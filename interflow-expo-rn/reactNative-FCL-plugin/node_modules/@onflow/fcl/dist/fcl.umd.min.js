!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).onflowFcl={})}(this,(function(e){"use strict";function t(e){if(Array.isArray(e))return e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,n){return t(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,u,i=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw o}}return i}}(e,n)||r(e,n)||o()}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var a=t&&t.prototype instanceof h?t:h,u=Object.create(a.prototype),i=new A(o||[]);return r(u,"_invoke",{value:E(e,n,i)}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function v(){}function g(){}var y={};f(y,a,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==t&&n.call(b,a)&&(y=b);var w=g.prototype=h.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,i,c){var s=p(e[r],e,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==u(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(l).then((function(e){f.value=e,i(f)}),(function(e){return o("throw",e,i,c)}))}c(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return C()}for(n.method=o,n.arg=a;;){var u=n.delegate;if(u){var i=I(u,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=g,r(w,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(k.prototype),f(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var u=new k(l(t,n,r,o),a);return e.isGeneratorFunction(n)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},x(w),f(w,s,"Generator"),f(w,a,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,r,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){c(a,r,o,u,i,"next",e)}function i(e){c(a,r,o,u,i,"throw",e)}u(void 0)}))}}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){return t(e)||f(e)||r(e)||o()}function p(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y={exports:{}},m={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(m),function(e){var t=m.exports.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},o=Object.prototype,a=o.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new T(r||[]);return u(a,"_invoke",{value:I(e,n,i)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var h={};function v(){}function g(){}function y(){}var m={};l(m,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==o&&a.call(w,c)&&(m=w);var x=y.prototype=v.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,n){function r(o,u,i,c){var s=d(e[o],e,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==t(l)&&a.call(l,"__await")?n.resolve(l.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):n.resolve(l).then((function(e){f.value=e,i(f)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var o;u(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(a,a):a()}})}function I(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return _()}for(n.method=o,n.arg=a;;){var u=n.delegate;if(u){var i=S(u,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=y,u(x,"constructor",{value:y,configurable:!0}),u(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,f,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,f,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),r.AsyncIterator=E,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var u=new E(p(e,t,n,o),a);return r.isGeneratorFunction(t)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},k(x),l(x,f,"Generator"),l(x,c,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return u.type="throw",u.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(y);var b,w=y.exports(),x=w;try{regeneratorRuntime=w}catch(e){"object"===("undefined"==typeof globalThis?"undefined":u(globalThis))?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,u=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw u}}}}var E="function"==typeof queueMicrotask?queueMicrotask:function(e){return(b||(b=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},I=function(){var e,t=[];return{deliver:function(n){return s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},S="INIT",R="SUBSCRIBE",A="UNSUBSCRIBE",T="UPDATED",C="SNAPSHOT",_="EXIT",O="TERMINATE",P="object"===("undefined"==typeof self?"undefined":u(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":u(global))&&global.global===global&&global||"object"===("undefined"==typeof window?"undefined":u(window))&&window.window===window&&window;P.FCL_REGISTRY=null==P.FCL_REGISTRY?{}:P.FCL_REGISTRY;var L=0,N=5e3,j=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){var u=r.expectReply||!1,i=null!=r.timeout?r.timeout:N;u&&i&&setTimeout((function(){return a(new Error("Timeout: ".concat(i,"ms passed without a response.")))}),i);var c={to:e,from:r.from,tag:t,data:n,timeout:i,reply:o,reject:a};try{P.FCL_REGISTRY[e]&&P.FCL_REGISTRY[e].mailbox.deliver(c),u||o(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",c,P.FCL_REGISTRY[e],t)}}))},B=function(e){delete P.FCL_REGISTRY[e]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=s(x.mark((function t(n){var r;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e[S]){t.next=3;break}return t.next=3,e[S](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==_){t.next=13;break}if("function"!=typeof e[O]){t.next=12;break}return t.next=12,e[O](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++L),null!=P.FCL_REGISTRY[t])return t;P.FCL_REGISTRY[t]={addr:t,mailbox:I(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return P.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.from=t,j(e,n,r,o)},sendSelf:function(e,n,r){P.FCL_REGISTRY[t]&&j(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var o,a=k(P.FCL_REGISTRY[t].subs);try{for(a.s();!(o=a.n()).done;){var u=o.value;j(u,e,n,r)}}catch(e){a.e(e)}finally{a.f()}},subscribe:function(e){return null!=e&&P.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&P.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return P.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!P.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(P.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=P.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete P.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(P.FCL_REGISTRY[t].kvs[e]=n(P.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(P.FCL_REGISTRY[t].kvs)},all:function(){return P.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(P.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?v(v({},n),{},d({},r,P.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return P.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){P.FCL_REGISTRY[t].error=e;var n,r=k(P.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var o=n.value;j(o,T)}}catch(e){r.e(e)}finally{r.f()}}};return"object"===u(e)&&(e=F(e)),E(s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:B(t);case 3:case"end":return r.stop()}}),r)})))),t};function G(e,t,n){t(e);var r="@EXIT",o=U(function(){var t=s(x.mark((function t(o){var a,u;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.send(e,R);case 1:return t.next=4,o.receive();case 4:if(a=t.sent,u=P.FCL_REGISTRY[e].error,a.tag!==r){t.next=9;break}return o.send(e,A),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),o.send(e,A),t.abrupt("return");case 13:n(a.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return j(o,r)}}function D(e,t){return t(e),j(e,C,null,{expectReply:!0,timeout:0})}function M(e){return function(e){if(Array.isArray(e))return n(e)}(e)||f(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(!e){var n,r=new Error("INVARIANT ".concat(t));r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];throw(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat(a,["\n\n---\n\n"])),r}}var Y,q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},K=function(e){return e&&"object"===u(e)&&!Array.isArray(e)},H=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!r.length)return t;var a=r.shift();if(K(t)&&K(a))for(var u in a)K(a[u])?(t[u]||Object.assign(t,d({},u,{})),e(t[u],a[u])):Object.assign(t,d({},u,a[u]));return e.apply(void 0,[t].concat(r))},W=function(e){return Array.isArray(e)?H.apply(void 0,[{}].concat(M(e))):e},V=function(e){return e.contracts?e.contracts:{}},J=function(e,t){return q(W,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return v(v({},t),n(e))}),{})}}(function(e){return function(t){var n=t.deployments,r=void 0===n?{}:n,o=t.accounts,u=void 0===o?{}:o,i=null==r?void 0:r[e];return i?Object.entries(i).reduce((function(e,t){var n,r=a(t,2),o=r[0],i=r[1],c=null===(n=u[o])||void 0===n?void 0:n.address;return c?i.reduce((function(e,t){return v(v({},e),{},d({},t,c))}),{}):e}),{}):{}}}(t),q(V,function(e){return function(t){return Object.entries(t).reduce((function(t,n){var r,o=a(n,2),u=o[0],i=o[1],c=null==i||null===(r=i.aliases)||void 0===r?void 0:r[e];return c&&(t[u]=c),t}),{})}}(t))))(e)},X=function(e){return Object.entries(null==e?void 0:e.accounts).reduce((function(e,t){var n,r=a(t,2);r[0];var o=r[1];return!!e||(null==o?void 0:o.hasOwnProperty("key"))&&!(null!=o&&null!==(n=o.key)&&void 0!==n&&n.startsWith("$"))}),!1)},$=function(e){return K(e)?X(e):e.some(X)},Z=function(e){return"local"===(null==e?void 0:e.toLowerCase())?"emulator":null==e?void 0:e.toLowerCase()},Q="config",ee="PUT_CONFIG",te="GET_CONFIG",ne="GET_ALL_CONFIG",re="UPDATE_CONFIG",oe="DELETE_CONFIG",ae="CLEAR_CONFIG",ue="WHERE_CONFIG",ie="CONFIG/UPDATED",ce=function(e){return e},se=(d(Y={},ee,(function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(ie,v({},e.all()))})),d(Y,te,(function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))})),d(Y,ne,(function(e,t){t.reply(v({},e.all()))})),d(Y,re,(function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||ce),e.broadcast(ie,v({},e.all()))})),d(Y,oe,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(ie,v({},e.all()))})),d(Y,ae,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(ie,v({},e.all()))})),d(Y,ue,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),d(Y,R,(function(e,t){e.subscribe(t.from),e.send(t.from,ie,v({},e.all()))})),d(Y,A,(function(e,t){e.unsubscribe(t.from)})),Y);function fe(e,t){return j(Q,ee,{key:e,value:t}),ke()}function le(e,t){return j(Q,te,{key:e,fallback:t},{expectReply:!0,timeout:10})}function pe(){return de.apply(this,arguments)}function de(){return de=s(x.mark((function e(){var t,n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1?i[1]:void 0,(t=i.length>0&&void 0!==i[0]?i[0]:[]).length){e.next=4;break}return e.abrupt("return",n);case 4:return r=l(t),o=r[0],a=r.slice(1),e.next=7,le(o);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",pe(a,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function he(){return j(Q,ne,null,{expectReply:!0,timeout:10})}function ve(e){return j(Q,re,{key:e,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce}),ke()}function ge(e){return j(Q,oe,{key:e}),ke()}function ye(e){return j(Q,ue,{pattern:e},{expectReply:!0,timeout:10})}function me(e){return G(Q,(function(){return U(se,Q)}),e)}function be(e){return j(Q,ae).then(ke(e))}function we(e){return xe.apply(this,arguments)}function xe(){return(xe=s(x.mark((function e(t){var n,r,o,u,i,c,s,f,l,p,d,h,v;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le("flow.network");case 2:if(n=e.sent,r=Z(n),o=t.flowJSON,z(Boolean(o),"config.load -- 'flowJSON' must be defined"),z(r,'Flow Network Required -- In order for FCL to load your contracts please define "flow.network" to "emulator", "local", "testnet", or "mainnet" in your config. See more here: https://developers.flow.com/tools/fcl-js/reference/configure-fcl'),!$(o)){e.next=12;break}if(Ae({title:"Private Keys Detected",message:"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security",level:(u="emulator"===r)?Se.warn:Se.error}),u){e.next=12;break}return e.abrupt("return");case 12:i=0,c=Object.entries(J(o,r));case 13:if(!(i<c.length)){e.next=28;break}return s=a(c[i],2),f=s[0],l=s[1],p="0x".concat(f),e.next=18,le(p);case 18:return(d=e.sent)&&d!==l?Ae({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:Se.warn}):fe(p,l),h="system.contracts.".concat(f),e.next=23,le(h);case 23:(v=e.sent)&&v!==l?Ae({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:Se.warn}):fe(h,l);case 25:i++,e.next=13;break;case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return null!=e&&"object"===u(e)&&Object.keys(e).map((function(t){return fe(t,e[t])})),{put:fe,get:le,all:he,first:pe,update:ve,delete:ge,where:ye,subscribe:me,overload:Ie,load:we}}U(se,Q),ke.put=fe,ke.get=le,ke.all=he,ke.first=pe,ke.update=ve,ke.delete=ge,ke.where=ye,ke.subscribe=me,ke.overload=Ie,ke.load=we;var Ee=function(e){return e};function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;return new Promise(function(){var n=s(x.mark((function n(r,o){var a,u;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,he();case 2:return a=n.sent,n.prev=3,ke(e),n.t0=t,n.next=8,he();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,be(a);case 14:r(u),n.next=22;break;case 17:return n.prev=17,n.t2=n.catch(3),n.next=21,be(a);case 21:o(n.t2);case 22:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e,t){return n.apply(this,arguments)}}())}var Se=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Re=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},Ae=function(){var e=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f,l,p,d;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,c=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,ke.get("logger.level",Se.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:d=Re({title:i,message:c}),e.t0=s,e.next=e.t0===Se.debug?10:e.t0===Se.info?12:e.t0===Se.warn?14:e.t0===Se.error?16:18;break;case 10:return(n=console).debug.apply(n,M(d)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,M(d)),e.abrupt("break",19);case 14:return(o=console).warn.apply(o,M(d)),e.abrupt("break",19);case 16:return(a=console).error.apply(a,M(d)),e.abrupt("break",19);case 18:(u=console).log.apply(u,M(d));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Te(e,t){if(!e){var n,r=new Error("INVARIANT ".concat(t));r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];throw(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat(a,["\n\n---\n\n"])),r}}Ae.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,a=void 0===o?Se.warn:o,u=e.message,i=void 0===u?"":u,c=e.callback,f=void 0===c?null:c,l=function(){return Ae({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(i?"\n"+i:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:a});var e};return"function"==typeof f?s(x.mark((function e(){var t=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,f.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):l()};var Ce,_e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},Oe=function(e){return e&&"object"===u(e)&&!Array.isArray(e)},Pe=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!r.length)return t;var a=r.shift();if(Oe(t)&&Oe(a))for(var u in a)Oe(a[u])?(t[u]||Object.assign(t,d({},u,{})),e(t[u],a[u])):Object.assign(t,d({},u,a[u]));return e.apply(void 0,[t].concat(r))},Le=function(e){return Array.isArray(e)?Pe.apply(void 0,[{}].concat(M(e))):e},Ne=function(e){return e.contracts?e.contracts:{}},je=function(e,t){return _e(Le,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return v(v({},t),n(e))}),{})}}(function(e){return function(t){var n=t.deployments,r=void 0===n?{}:n,o=t.accounts,u=void 0===o?{}:o,i=null==r?void 0:r[e];return i?Object.entries(i).reduce((function(e,t){var n,r=a(t,2),o=r[0],i=r[1],c=null===(n=u[o])||void 0===n?void 0:n.address;return c?i.reduce((function(e,t){return v(v({},e),{},d({},t,c))}),{}):e}),{}):{}}}(t),_e(Ne,function(e){return function(t){return Object.entries(t).reduce((function(t,n){var r,o=a(n,2),u=o[0],i=o[1],c=null==i||null===(r=i.aliases)||void 0===r?void 0:r[e];return c&&(t[u]=c),t}),{})}}(t))))(e)},Be=function(e){return Object.entries(null==e?void 0:e.accounts).reduce((function(e,t){var n,r=a(t,2);r[0];var o=r[1];return!!e||(null==o?void 0:o.hasOwnProperty("key"))&&!(null!=o&&null!==(n=o.key)&&void 0!==n&&n.startsWith("$"))}),!1)},Fe=function(e){return Oe(e)?Be(e):e.some(Be)},Ue=function(e){return"local"===(null==e?void 0:e.toLowerCase())?"emulator":null==e?void 0:e.toLowerCase()},Ge="config",De="PUT_CONFIG",Me="GET_CONFIG",ze="GET_ALL_CONFIG",Ye="UPDATE_CONFIG",qe="DELETE_CONFIG",Ke="CLEAR_CONFIG",He="WHERE_CONFIG",We="CONFIG/UPDATED",Ve=function(e){return e},Je=(d(Ce={},De,(function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(We,v({},e.all()))})),d(Ce,Me,(function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))})),d(Ce,ze,(function(e,t){t.reply(v({},e.all()))})),d(Ce,Ye,(function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||Ve),e.broadcast(We,v({},e.all()))})),d(Ce,qe,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(We,v({},e.all()))})),d(Ce,Ke,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(We,v({},e.all()))})),d(Ce,He,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),d(Ce,R,(function(e,t){e.subscribe(t.from),e.send(t.from,We,v({},e.all()))})),d(Ce,A,(function(e,t){e.unsubscribe(t.from)})),Ce);function Xe(e,t){return j(Ge,De,{key:e,value:t}),ct()}function $e(e,t){return j(Ge,Me,{key:e,fallback:t},{expectReply:!0,timeout:10})}function Ze(){return Qe.apply(this,arguments)}function Qe(){return Qe=s(x.mark((function e(){var t,n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1?i[1]:void 0,(t=i.length>0&&void 0!==i[0]?i[0]:[]).length){e.next=4;break}return e.abrupt("return",n);case 4:return r=l(t),o=r[0],a=r.slice(1),e.next=7,$e(o);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",Ze(a,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}function et(){return j(Ge,ze,null,{expectReply:!0,timeout:10})}function tt(e){return j(Ge,Ye,{key:e,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve}),ct()}function nt(e){return j(Ge,qe,{key:e}),ct()}function rt(e){return j(Ge,He,{pattern:e},{expectReply:!0,timeout:10})}function ot(e){return G(Ge,(function(){return U(Je,Ge)}),e)}function at(e){return j(Ge,Ke).then(ct(e))}function ut(e){return it.apply(this,arguments)}function it(){return(it=s(x.mark((function e(t){var n,r,o,u,i,c,s,f,l,p,d,h,v;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e("flow.network");case 2:if(n=e.sent,r=Ue(n),o=t.flowJSON,Te(Boolean(o),"config.load -- 'flowJSON' must be defined"),Te(r,'Flow Network Required -- In order for FCL to load your contracts please define "flow.network" to "emulator", "local", "testnet", or "mainnet" in your config. See more here: https://developers.flow.com/tools/fcl-js/reference/configure-fcl'),!Fe(o)){e.next=12;break}if(Ae({title:"Private Keys Detected",message:"Private keys should be stored in a separate flow.json file for security. See more here: https://developers.flow.com/tools/flow-cli/security",level:(u="emulator"===r)?Se.warn:Se.error}),u){e.next=12;break}return e.abrupt("return");case 12:i=0,c=Object.entries(je(o,r));case 13:if(!(i<c.length)){e.next=28;break}return s=a(c[i],2),f=s[0],l=s[1],p="0x".concat(f),e.next=18,$e(p);case 18:return(d=e.sent)&&d!==l?Ae({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:Se.warn}):Xe(p,l),h="system.contracts.".concat(f),e.next=23,$e(h);case 23:(v=e.sent)&&v!==l?Ae({title:"Contract Placeholder Conflict Detected",message:"A generated contract placeholder from config.load conflicts with a placeholder you've set manually in config have the same name.",level:Se.warn}):Xe(h,l);case 25:i++,e.next=13;break;case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return null!=e&&"object"===u(e)&&Object.keys(e).map((function(t){return Xe(t,e[t])})),{put:Xe,get:$e,all:et,first:Ze,update:tt,delete:nt,where:rt,subscribe:ot,overload:ft,load:ut}}U(Je,Ge),ct.put=Xe,ct.get=$e,ct.all=et,ct.first=Ze,ct.update=tt,ct.delete=nt,ct.where=rt,ct.subscribe=ot,ct.overload=ft,ct.load=ut;var st=function(e){return e};function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;return new Promise(function(){var n=s(x.mark((function n(r,o){var a,u;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,et();case 2:return a=n.sent,n.prev=3,ct(e),n.t0=t,n.next=8,et();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,at(a);case 14:r(u),n.next=22;break;case 17:return n.prev=17,n.t2=n.catch(3),n.next=21,at(a);case 21:o(n.t2);case 22:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e,t){return n.apply(this,arguments)}}())}var lt=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),pt=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},dt=function(){var e=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f,l,p,d;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,c=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,ct.get("logger.level",lt.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:d=pt({title:i,message:c}),e.t0=s,e.next=e.t0===lt.debug?10:e.t0===lt.info?12:e.t0===lt.warn?14:e.t0===lt.error?16:18;break;case 10:return(n=console).debug.apply(n,M(d)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,M(d)),e.abrupt("break",19);case 14:return(o=console).warn.apply(o,M(d)),e.abrupt("break",19);case 16:return(a=console).error.apply(a,M(d)),e.abrupt("break",19);case 18:(u=console).log.apply(u,M(d));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ht(e,t){if(!e){var n,r=new Error("INVARIANT ".concat(t));r.stack=r.stack.split("\n").filter((function(e){return!/at invariant/.test(e)})).join("\n");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];throw(n=console).error.apply(n,["\n\n---\n\n",r,"\n\n"].concat(a,["\n\n---\n\n"])),r}}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function yt(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}function kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Et(e){var t=kt();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}(this,n)}}dt.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,a=void 0===o?lt.warn:o,u=e.message,i=void 0===u?"":u,c=e.callback,f=void 0===c?null:c,l=function(){return dt({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(i?"\n"+i:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:a});var e};return"function"==typeof f?s(x.mark((function e(){var t=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,f.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):l()};for(var It={},St={byteLength:function(e){var t=Pt(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=Pt(e),o=r[0],a=r[1],u=new Tt(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),i=0,c=a>0?o-4:o;for(n=0;n<c;n+=4)t=At[e.charCodeAt(n)]<<18|At[e.charCodeAt(n+1)]<<12|At[e.charCodeAt(n+2)]<<6|At[e.charCodeAt(n+3)],u[i++]=t>>16&255,u[i++]=t>>8&255,u[i++]=255&t;2===a&&(t=At[e.charCodeAt(n)]<<2|At[e.charCodeAt(n+1)]>>4,u[i++]=255&t);1===a&&(t=At[e.charCodeAt(n)]<<10|At[e.charCodeAt(n+1)]<<4|At[e.charCodeAt(n+2)]>>2,u[i++]=t>>8&255,u[i++]=255&t);return u},fromByteArray:function(e){for(var t,n=e.length,r=n%3,o=[],a=16383,u=0,i=n-r;u<i;u+=a)o.push(Lt(e,u,u+a>i?i:u+a));1===r?(t=e[n-1],o.push(Rt[t>>2]+Rt[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(Rt[t>>10]+Rt[t>>4&63]+Rt[t<<2&63]+"="));return o.join("")}},Rt=[],At=[],Tt="undefined"!=typeof Uint8Array?Uint8Array:Array,Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t=0,Ot=Ct.length;_t<Ot;++_t)Rt[_t]=Ct[_t],At[Ct.charCodeAt(_t)]=_t;function Pt(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Lt(e,t,n){for(var r,o,a=[],u=t;u<n;u+=3)r=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(Rt[(o=r)>>18&63]+Rt[o>>12&63]+Rt[o>>6&63]+Rt[63&o]);return a.join("")}At["-".charCodeAt(0)]=62,At["_".charCodeAt(0)]=63;var Nt={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function jt(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(jt(e[n]));var r=It.Buffer.concat(t);return It.Buffer.concat([Bt(r.length,192),r])}var o=function(e){if(!It.Buffer.isBuffer(e)){if("string"==typeof e)return Ft(e)?It.Buffer.from((r="string"!=typeof(n=e)?n:Ft(n)?n.slice(2):n).length%2?"0"+r:r,"hex"):It.Buffer.from(e);if("number"==typeof e)return e?(t=Ut(e),It.Buffer.from(t,"hex")):It.Buffer.from([]);if(null==e)return It.Buffer.from([]);if(e instanceof Uint8Array)return It.Buffer.from(e);throw new Error("invalid type")}var t;var n;var r;return e}(e);return 1===o.length&&o[0]<128?o:It.Buffer.concat([Bt(o.length,128),o])}function Bt(e,t){if(e<56)return It.Buffer.from([e+t]);var n=Ut(e),r=Ut(t+55+n.length/2);return It.Buffer.from(r+n,"hex")}function Ft(e){return"0x"===e.slice(0,2)}function Ut(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function Gt(e,t,n){return Gt=kt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&bt(o,n.prototype),o},Gt.apply(null,arguments)}function Dt(e){var t="function"==typeof Map?new Map:void 0;return Dt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Gt(e,arguments,xt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),bt(r,e)},Dt(e)}Nt.read=function(e,t,n,r,o){var a,u,i=8*o-r-1,c=(1<<i)-1,s=c>>1,f=-7,l=n?o-1:0,p=n?-1:1,d=e[t+l];for(l+=p,a=d&(1<<-f)-1,d>>=-f,f+=i;f>0;a=256*a+e[t+l],l+=p,f-=8);for(u=a&(1<<-f)-1,a>>=-f,f+=r;f>0;u=256*u+e[t+l],l+=p,f-=8);if(0===a)a=1-s;else{if(a===c)return u?NaN:1/0*(d?-1:1);u+=Math.pow(2,r),a-=s}return(d?-1:1)*u*Math.pow(2,a-r)},Nt.write=function(e,t,n,r,o,a){var u,i,c,s=8*a-o-1,f=(1<<s)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-u))<1&&(u--,c*=2),(t+=u+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(u++,c/=2),u+l>=f?(i=0,u=f):u+l>=1?(i=(t*c-1)*Math.pow(2,o),u+=l):(i=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;e[n+d]=255&i,d+=h,i/=256,o-=8);for(u=u<<o|i,s+=o;s>0;e[n+d]=255&u,d+=h,u/=256,s-=8);e[n+d-h]|=128*v},function(e){var t=St,n=Nt,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=a(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(e));if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var o=function(e){if(i.isBuffer(e)){var t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?a(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(e))}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return s(e),a(e<0?0:0|d(e))}function l(e){for(var t=e.length<0?0:0|d(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var a,u=1,i=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u=2,i/=2,c/=2,n/=2}function s(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}if(o){var f=-1;for(a=n;a<i;a++)if(s(e,a)===s(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===c)return f*u}else-1!==f&&(a-=a-f),f=-1}else for(n+c>i&&(n=i-c),a=n;a>=0;a--){for(var l=!0,p=0;p<c;p++)if(s(e,a+p)!==s(t,p)){l=!1;break}if(l)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a,u=t.length;for(r>u/2&&(r=u/2),a=0;a<r;++a){var i=parseInt(t.substr(2*a,2),16);if(J(i))return a;e[n+a]=i}return a}function w(e,t,n,r){return W(K(t,e.length-n),e,n,r)}function x(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return W(H(t),e,n,r)}function E(e,t,n,r){return W(function(e,t){for(var n,r,o,a=[],u=0;u<e.length&&!((t-=2)<0);++u)r=(n=e.charCodeAt(u))>>8,o=n%256,a.push(o),a.push(r);return a}(t,e.length-n),e,n,r)}function I(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a=e[o],u=null,i=a>239?4:a>223?3:a>191?2:1;if(o+i<=n){var c=void 0,s=void 0,f=void 0,l=void 0;switch(i){case 1:a<128&&(u=a);break;case 2:128==(192&(c=e[o+1]))&&(l=(31&a)<<6|63&c)>127&&(u=l);break;case 3:c=e[o+1],s=e[o+2],128==(192&c)&&128==(192&s)&&(l=(15&a)<<12|(63&c)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:c=e[o+1],s=e[o+2],f=e[o+3],128==(192&c)&&128==(192&s)&&128==(192&f)&&(l=(15&a)<<18|(63&c)<<12|(63&s)<<6|63&f)>65535&&l<1114112&&(u=l)}}null===u?(u=65533,i=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=i}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}e.kMaxLength=o,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},i.allocUnsafe=function(e){return f(e)},i.allocUnsafeSlow=function(e){return f(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(V(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(V(a,Uint8Array))o+a.length>r.length?(i.isBuffer(a)||(a=i.from(a)),a.copy(r,o)):Uint8Array.prototype.set.call(r,a,o);else{if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o)}o+=a.length}return r},i.byteLength=h,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(V(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),c=(n>>>=0)-(t>>>=0),s=Math.min(a,c),f=this.slice(r,o),l=e.slice(t,n),p=0;p<s;++p)if(f[p]!==l[p]){a=f[p],c=l[p];break}return a<c?-1:c<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=X[e[a]];return o}function _(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length-1;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,o){M(t,r,o,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,u>>=8,e[n++]=u,n}function N(e,t,n,r,o){M(t,r,o,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var u=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=u,u>>=8,e[n+2]=u,u>>=8,e[n+1]=u,u>>=8,e[n]=u,n+8}function j(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,r,o,a){return t=+t,r>>>=0,a||j(e,0,r,4),n.write(e,t,r,o,23,4),r+4}function F(e,t,r,o,a){return t=+t,r>>>=0,a||j(e,0,r,8),n.write(e,t,r,o,52,8),r+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=$((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),o=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(o)<<BigInt(32))})),i.prototype.readBigUInt64BE=$((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],o=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},i.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=$((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),i.prototype.readBigInt64BE=$((function(e){z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),n.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),n.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),n.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),n.read(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=$((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=$((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var a=0,u=1,i=0;for(this[t]=255&e;++a<n&&(u*=256);)e<0&&0===i&&0!==this[t+a-1]&&(i=1),this[t+a]=(e/u>>0)-i&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var a=n-1,u=1,i=0;for(this[t+a]=255&e;--a>=0&&(u*=256);)e<0&&0===i&&0!==this[t+a+1]&&(i=1),this[t+a]=(e/u>>0)-i&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=$((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=$((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var u=i.isBuffer(e)?e:i.from(e,r),c=u.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=u[a%c]}return this};var U={};function G(e,t,n){U[e]=function(n){wt(o,n);var r=Et(o);function o(){var n;return vt(this,o),n=r.call(this),Object.defineProperty(mt(n),"message",{value:t.apply(mt(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return yt(o,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),o}(n)}function D(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function M(e,t,n,r,o,a){if(e>n||e<t){var u,i="bigint"==typeof t?"n":"";throw u=a>3?0===t||t===BigInt(0)?">= 0".concat(i," and < 2").concat(i," ** ").concat(8*(a+1)).concat(i):">= -(2".concat(i," ** ").concat(8*(a+1)-1).concat(i,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(i):">= ".concat(t).concat(i," and <= ").concat(n).concat(i),new U.ERR_OUT_OF_RANGE("value",u,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Y(t,e.length-(n+1))}(r,o,a)}function z(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(u(t))}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),o=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(o=D(o)),o+="n"),r+=" It must be ".concat(t,". Received ").concat(o)}),RangeError);var q=/[^+/0-9A-Za-z-_]/g;function K(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],u=0;u<r;++u){if((n=e.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(u+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){var o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var X=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}();function $(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}}(It);var Mt={exports:{}};!function(e,t){var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==g)return g;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}(Mt,Mt.exports);var zt=Mt.exports;function Yt(e){return null==e?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function qt(e){return null==e?null:"0x"+Yt(e)}var Kt=function(e){wt(n,e);var t=Et(n);function n(e){var r,o=e.error,a=e.hostname,u=e.path,i=e.method,c=e.requestBody,s=e.responseBody,f=e.responseStatusText,l=e.statusCode;vt(this,n);var p="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(o?"error=".concat(o):"","\n      ").concat(a?"hostname=".concat(a):"","\n      ").concat(u?"path=".concat(u):"","\n      ").concat(i?"method=".concat(i):"","\n      ").concat(c?"requestBody=".concat(c):"","\n      ").concat(s?"responseBody=".concat(s):"","\n      ").concat(f?"responseStatusText=".concat(f):"","\n      ").concat(l?"statusCode=".concat(l):"","\n    ");return(r=t.call(this,p)).name="HTTP Request Error",r.statusCode=l,r.errorMessage=o,r}return yt(n)}(Dt(Error));function Ht(e){return Wt.apply(this,arguments)}function Wt(){return Wt=s(x.mark((function e(t){var n,r,o,a,u,i,c,f,l,p,d,h,v;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(){return v=s(x.mark((function e(){var t,n,r=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,d();case 4:return n=e.sent,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(1),![408,429,500,502,503,504].includes(e.t0.statusCode)){e.next=17;break}return e.next=14,new Promise((function(n,r){t<c?(console.warn("Access node unavailable, retrying in ".concat(l," ms...")),setTimeout((function(){n(h(t+1))}),l)):r(e.t0)}));case 14:return e.abrupt("return",e.sent);case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,8]])}))),v.apply(this,arguments)},h=function(){return v.apply(this,arguments)},d=function(){return zt("".concat(n).concat(r),{method:o,body:p,headers:u}).then(function(){var e=s(x.mark((function e(t){var a,u;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(!t.body){e.next=8;break}return e.next=5,t.text();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:throw a=e.t0,u=Vt(a),new Kt({error:null==u?void 0:u.message,hostname:n,path:r,method:o,requestBody:p,responseBody:a,responseStatusText:t.statusText,statusCode:t.status});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Kt)){e.next=2;break}throw t;case 2:return e.next=4,dt({title:"Access Node Error",message:"The provided access node ".concat(n," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:lt.error});case 4:throw new Kt({error:null==t?void 0:t.message,hostname:n,path:r,method:o,requestBody:p});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n=t.hostname,r=t.path,o=t.method,a=t.body,u=t.headers,i=t.retryLimit,c=void 0===i?5:i,f=t.retryIntervalMs,l=void 0===f?1e3:f,p=a?JSON.stringify(a):null,e.next=7,h();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Vt(e){try{return JSON.parse(e)}catch(e){return null}}function Jt(e,t,n){return Xt.apply(this,arguments)}function Xt(){return Xt=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/scripts?block_id=".concat(t.block.id),method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return a=e.sent,e.abrupt("return",tn(t,n,a));case 5:case"end":return e.stop()}}),e)}))),Xt.apply(this,arguments)}function $t(e,t,n){return Zt.apply(this,arguments)}function Zt(){return Zt=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/scripts?block_height=".concat(t.block.height),method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return a=e.sent,e.abrupt("return",tn(t,n,a));case 5:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}function Qt(e,t,n){return en.apply(this,arguments)}function en(){return en=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))}});case 3:return a=e.sent,e.abrupt("return",tn(t,n,a));case 5:case"end":return e.stop()}}),e)}))),en.apply(this,arguments)}function tn(e,t,n){var r=t.response();return r.tag=e.tag,r.encodedData=JSON.parse(t.Buffer.from(n,"base64").toString()),r}function nn(e){return rn.apply(this,arguments)}function rn(){return rn=s(x.mark((function e(t){var n,r,o=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},ht((r=o.length>2&&void 0!==o[2]?o[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),ht(n.response,"SDK Send Execute Script Error: context.response must be defined."),ht(n.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),e.next=7,t;case 7:if(!(t=e.sent).block.id){e.next=14;break}return e.next=11,Jt(t,n,r);case 11:case 17:case 22:return e.abrupt("return",e.sent);case 14:if(!t.block.height){e.next=20;break}return e.next=17,$t(t,n,r);case 20:return e.next=22,Qt(t,n,r);case 23:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}var on={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},an={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=").concat(t.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",ln(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e,t,n){return fn.apply(this,arguments)}function fn(){return(fn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",ln(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t,n){var r,o,a=t.response();a.tag=e.tag;return a.account={address:n.address,balance:Number(n.balance),code:"",contracts:function(e){var n={};if(!e)return n;for(var r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];n[a]=t.Buffer.from(e[a],"base64").toString()}return n}(n.contracts),keys:null!==(r=null===(o=n.keys)||void 0===o?void 0:o.map((function(e){return{index:Number(e.index),publicKey:e.public_key.replace(/^0x/,""),signAlgo:an[e.signing_algorithm],signAlgoString:e.signing_algorithm,hashAlgo:on[e.hashing_algorithm],hashAlgoString:e.hashing_algorithm,sequenceNumber:Number(e.sequence_number),weight:Number(e.weight),revoked:e.revoked}})))&&void 0!==r?r:[]},a}function pn(e){return dn.apply(this,arguments)}function dn(){return dn=s(x.mark((function e(t){var n,r,o=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},ht((r=o.length>2&&void 0!==o[2]?o[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),ht(n.response,"SDK Send Get Account Error: context.response must be defined."),ht(n.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),e.next=7,t;case 7:if(null===(t=e.sent).block.height){e.next=14;break}return e.next=11,un(t,n,r);case 11:case 16:return e.abrupt("return",e.sent);case 14:return e.next=16,sn(t,n,r);case 17:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function hn(e,t,n){return vn.apply(this,arguments)}function vn(){return(vn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/blocks/".concat(t.block.id),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",wn(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t,n){return yn.apply(this,arguments)}function yn(){return(yn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/blocks?height=".concat(t.block.height),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",wn(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t,n){return bn.apply(this,arguments)}function bn(){return(bn=s(x.mark((function e(t,n,r){var o,a,u,i;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ht,u=null!==(o=t.block)&&void 0!==o&&o.isSealed?"sealed":"finalized",e.next=4,a({hostname:r.node,path:"/v1/blocks?height=".concat(u),method:"GET",body:null});case 4:return i=e.sent,e.abrupt("return",wn(t,n,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t,n){var r=n.length?n[0]:null,o=t.response();return o.tag=e.tag,o.blockHeader={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp},o}function xn(e){return kn.apply(this,arguments)}function kn(){return kn=s(x.mark((function e(t){var n,r,o,a,u=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},ht((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),ht(n.response,"SDK Send Get Block Header Error: context.response must be defined."),e.next=6,t;case 6:if(t=e.sent,o=null!==t.block.id,a=null!==t.block.height,!o){e.next=15;break}return e.next=12,hn(t,n,r);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!a){e.next=21;break}return e.next=18,gn(t,n,r);case 21:return e.next=23,mn(t,n,r);case 24:case"end":return e.stop()}}),e)}))),kn.apply(this,arguments)}function En(e,t,n){return In.apply(this,arguments)}function In(){return(In=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/blocks/".concat(t.block.id,"?expand=payload"),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",Cn(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t,n){return Rn.apply(this,arguments)}function Rn(){return(Rn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/blocks?height=".concat(t.block.height,"&expand=payload"),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",Cn(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=s(x.mark((function e(t,n,r){var o,a,u,i;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.httpRequest||Ht,u=null!==(o=t.block)&&void 0!==o&&o.isSealed?"sealed":"final",e.next=4,a({hostname:r.node,path:"/v1/blocks?height=".concat(u,"&expand=payload"),method:"GET",body:null});case 4:return i=e.sent,e.abrupt("return",Cn(t,n,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t,n){var r=n.length?n[0]:null,o=t.response();return o.tag=e.tag,o.block={id:r.header.id,parentId:r.header.parent_id,height:Number(r.header.height),timestamp:r.header.timestamp,collectionGuarantees:r.payload.collection_guarantees.map((function(e){return{collectionId:e.collection_id,signerIds:e.signer_ids}})),blockSeals:r.payload.block_seals.map((function(e){return{blockId:e.block_id,executionReceiptId:e.result_id}}))},o}function _n(e){return On.apply(this,arguments)}function On(){return On=s(x.mark((function e(t){var n,r,o,a,u=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},ht((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),ht(n.response,"SDK Send Get Block Error: context.response must be defined."),e.next=6,t;case 6:if(t=e.sent,o=null!==t.block.id,a=null!==t.block.height,!o){e.next=15;break}return e.next=12,En(t,n,r);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!a){e.next=21;break}return e.next=18,Sn(t,n,r);case 21:return e.next=23,An(t,n,r);case 24:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Pn(e){return Ln.apply(this,arguments)}function Ln(){return Ln=s(x.mark((function e(t){var n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},ht((r=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),ht(n.response,"SDK Send Get Collection Error: context.response must be defined."),o=r.httpRequest||Ht,e.next=7,o({hostname:r.node,path:"/v1/collections/".concat(t.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return a=e.sent,(u=n.response()).tag=t.tag,u.collection={id:a.id,transactionIds:a.transactions.map((function(e){return e.id}))},e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}function Nn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/events?type=".concat(t.events.eventType,"&start_height=").concat(t.events.start,"&end_height=").concat(t.events.end),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",Un(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.httpRequest||Ht,e.next=3,o({hostname:r.node,path:"/v1/events?type=".concat(t.events.eventType,"&block_ids=").concat(t.events.blockIds.join(",")),method:"GET",body:null});case 3:return a=e.sent,e.abrupt("return",Un(t,n,a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t,n){var r=t.response();return r.tag=e.tag,r.events=[],n.forEach((function(e){return e.events?e.events.forEach((function(n){return r.events.push({blockId:e.block_id,blockHeight:Number(e.block_height),blockTimestamp:e.block_timestamp,type:n.type,transactionId:n.transaction_id,transactionIndex:Number(n.transaction_index),eventIndex:Number(n.event_index),payload:JSON.parse(t.Buffer.from(n.payload,"base64").toString())})})):null})),r}function Gn(e){return Dn.apply(this,arguments)}function Dn(){return Dn=s(x.mark((function e(t){var n,r,o,a,u=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},ht((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),ht(n.response,"SDK Send Get Events Error: context.response must be defined."),ht(n.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),e.next=7,t;case 7:if(t=e.sent,o=null!==t.events.start,a=Array.isArray(t.events.blockIds)&&t.events.blockIds.length>0,ht(o||a,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!o){e.next=17;break}return e.next=14,Nn(t,n,r);case 14:case 19:return e.abrupt("return",e.sent);case 17:return e.next=19,Bn(t,n,r);case 20:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function Mn(e){return zn.apply(this,arguments)}function zn(){return zn=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},ht((r=f.length>2&&void 0!==f[2]?f[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),ht(n.response,"SDK Send Get Transaction Error: context.response must be defined."),ht(n.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),o=r.httpRequest||Ht,e.next=8,t;case 8:return t=e.sent,e.next=11,o({hostname:r.node,path:"/v1/transactions/".concat(t.transaction.id),method:"GET",body:null});case 11:return a=e.sent,u=function(e){return{address:e.address,keyId:Number(e.key_id),sequenceNumber:Number(e.sequence_number)}},i=function(e){return{address:e.address,keyId:Number(e.key_index),signature:e.signature}},c=function(e){return JSON.parse(n.Buffer.from(e,"base64").toString())},(s=n.response()).tag=t.tag,s.transaction={script:n.Buffer.from(a.script,"base64").toString(),args:M(a.arguments.map(c)),referenceBlockId:a.reference_block_id,gasLimit:Number(a.gas_limit),payer:a.payer,proposalKey:a.proposal_key?u(a.proposal_key):a.proposal_key,authorizers:a.authorizers,payloadSignatures:M(a.payload_signatures.map(i)),envelopeSignatures:M(a.envelope_signatures.map(i))},e.abrupt("return",s);case 19:case"end":return e.stop()}}),e)}))),zn.apply(this,arguments)}var Yn={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function qn(e){return Kn.apply(this,arguments)}function Kn(){return Kn=s(x.mark((function e(t){var n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},ht((r=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),ht(n.response,"SDK Send Get Transaction Status Error: context.response must be defined."),ht(n.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),o=r.httpRequest||Ht,e.next=8,t;case 8:return t=e.sent,e.next=11,o({hostname:r.node,path:"/v1/transaction_results/".concat(t.transaction.id),method:"GET",body:null});case 11:return a=e.sent,(u=n.response()).tag=t.tag,u.transactionStatus={blockId:a.block_id,status:Yn[a.status.toUpperCase()]||"",statusString:a.status.toUpperCase(),statusCode:a.status_code,errorMessage:a.error_message,events:a.events.map((function(e){return{type:e.type,transactionId:e.transaction_id,transactionIndex:Number(e.transaction_index),eventIndex:Number(e.event_index),payload:JSON.parse(n.Buffer.from(e.payload,"base64").toString())}}))},e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Hn(e){return Wn.apply(this,arguments)}function Wn(){return Wn=s(x.mark((function e(t){var n,r,o,a,u=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},ht((r=u.length>2&&void 0!==u[2]?u[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),ht(n.response,"SDK Send Ping Error: context.response must be defined."),o=r.httpRequest||Ht,e.next=7,o({hostname:r.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(a=n.response()).tag=t.tag,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}var Vn=function(e){return"".concat(withPrefix(e.addr),"-").concat(e.keyId)};function Jn(e){return Xn.apply(this,arguments)}function Xn(){return Xn=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f,l,p,d,h,v,g,y,m=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:{},ht((r=m.length>2&&void 0!==m[2]?m[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),ht(n.response,"SDK Send Transaction Error: context.response must be defined."),ht(n.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),o=r.httpRequest||Ht,e.next=8,t;case 8:t=e.sent,a=[],u=0,i=Object.values(t.accounts);case 11:if(!(u<i.length)){e.next=24;break}c=i[u],e.prev=13,c.role.payer||null==c.signature||a.push({address:Yt(c.addr),key_index:String(c.keyId),signature:n.Buffer.from(c.signature,"hex").toString("base64")}),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:c,ix:t}),e.t0;case 21:u++,e.next=11;break;case 24:s={},f=0,l=Object.values(t.accounts);case 26:if(!(f<l.length)){e.next=39;break}p=l[f],e.prev=28,p.role.payer&&null!=p.signature&&(d=p.tempId||Vn(p),s[d]=s[d]||{address:Yt(p.addr),key_index:String(p.keyId),signature:n.Buffer.from(p.signature,"hex").toString("base64")}),e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:p,ix:t}),e.t1;case 36:f++,e.next=26;break;case 39:return s=Object.values(s),h=Date.now(),e.next=43,o({hostname:r.node,path:"/v1/transactions",method:"POST",body:{script:n.Buffer.from(t.message.cadence).toString("base64"),arguments:M(t.message.arguments.map((function(e){return n.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")}))),reference_block_id:t.message.refBlock?t.message.refBlock:null,gas_limit:String(t.message.computeLimit),payer:Yt(t.accounts[Array.isArray(t.payer)?t.payer[0]:t.payer].addr),proposal_key:{address:Yt(t.accounts[t.proposer].addr),key_index:String(t.accounts[t.proposer].keyId),sequence_number:String(t.accounts[t.proposer].sequenceNum)},authorizers:t.authorizations.map((function(e){return t.accounts[e].addr})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(M(e),[t])}),[]).map(Yt),payload_signatures:a,envelope_signatures:s}});case 43:return v=e.sent,g=Date.now(),(y=n.response()).tag=t.tag,y.transactionId=v.id,"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:y.transactionId,delta:g-h}})),e.abrupt("return",y);case 50:case"end":return e.stop()}}),e,null,[[13,17],[28,32]])}))),Xn.apply(this,arguments)}function $n(e){return Zn.apply(this,arguments)}function Zn(){return Zn=s(x.mark((function e(t){var n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},ht((r=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Network Parameters Error: opts.node must be defined."),ht(n.response,"SDK Send Get Network Parameters Error: context.response must be defined."),o=r.httpRequest||Ht,e.next=7,t;case 7:return t=e.sent,e.next=10,o({hostname:r.node,path:"/v1/network/parameters",method:"GET",body:null});case 10:return a=e.sent,(u=n.response()).tag=t.tag,u.networkParameters={chainId:a.chain_id},e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}var Qn=function(){var e=s(x.mark((function e(t){var n,r,o=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},ht((r=o.length>2&&void 0!==o[2]?o[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),ht(n.ix,"SDK Send Error: context.ix must be defined."),e.next=6,t;case 6:t=e.sent,e.t0=!0,e.next=e.t0===n.ix.isTransaction(t)?10:e.t0===n.ix.isGetTransactionStatus(t)?11:e.t0===n.ix.isGetTransaction(t)?12:e.t0===n.ix.isScript(t)?13:e.t0===n.ix.isGetAccount(t)?14:e.t0===n.ix.isGetEvents(t)?15:e.t0===n.ix.isGetBlock(t)?16:e.t0===n.ix.isGetBlockHeader(t)?17:e.t0===n.ix.isGetCollection(t)?18:e.t0===n.ix.isPing(t)?19:e.t0===n.ix.isGetNetworkParameters(t)?20:21;break;case 10:return e.abrupt("return",r.sendTransaction?r.sendTransaction(t,n,r):Jn(t,n,r));case 11:return e.abrupt("return",r.sendGetTransactionStatus?r.sendGetTransactionStatus(t,n,r):qn(t,n,r));case 12:return e.abrupt("return",r.sendGetTransaction?r.sendGetTransaction(t,n,r):Mn(t,n,r));case 13:return e.abrupt("return",r.sendExecuteScript?r.sendExecuteScript(t,n,r):nn(t,n,r));case 14:return e.abrupt("return",r.sendGetAccount?r.sendGetAccount(t,n,r):pn(t,n,r));case 15:return e.abrupt("return",r.sendGetEvents?r.sendGetEvents(t,n,r):Gn(t,n,r));case 16:return e.abrupt("return",r.sendGetBlock?r.sendGetBlock(t,n,r):_n(t,n,r));case 17:return e.abrupt("return",r.sendGetBlockHeader?r.sendGetBlockHeader(t,n,r):xn(t,n,r));case 18:return e.abrupt("return",r.sendGetCollection?r.sendGetCollection(t,n,r):Pn(t,n,r));case 19:return e.abrupt("return",r.sendPing?r.sendPing(t,n,r):Hn(t,n,r));case 20:return e.abrupt("return",r.sendGetNetworkParameters?r.sendGetNetworkParameters(t,n,r):$n(t,n,r));case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),er={},tr={},nr={},rr={},or=function(e,t){return function(n,r){var o=2*r,a=2*t;n[o]=e[a],n[o+1]=e[a+1]}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=or)&&t.__esModule?t:{default:t};var r=function(e){for(var t=e.A,r=e.C,o=0;o<25;o+=5){for(var a=0;a<5;a++)(0,n.default)(t,o+a)(r,a);for(var u=0;u<5;u++){var i=2*(o+u),c=(u+1)%5*2,s=(u+2)%5*2;t[i]^=~r[c]&r[s],t[i+1]^=~r[c+1]&r[s+1]}}};e.default=r}(rr);var ar={},ur={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=t}(ur),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=ur)&&t.__esModule?t:{default:t};var r=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=n.default[r],t[1]^=n.default[r+1]};e.default=r}(ar);var ir={},cr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=t}(cr);var sr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=t}(sr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(cr),n=o(sr),r=o(or);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var o=e.A,a=e.C,u=e.W;(0,r.default)(o,1)(u,0);for(var i=0,c=0,s=0,f=32,l=0;l<24;l++){var p=t.default[l],d=n.default[l];(0,r.default)(o,p)(a,0),i=u[0],c=u[1],f=32-d,u[s=d<32?0:1]=i<<d|c>>>f,u[(s+1)%2]=c<<d|i>>>f,(0,r.default)(u,0)(o,p),(0,r.default)(a,0)(u,0)}};e.default=a}(ir);var fr,lr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=(t=or)&&t.__esModule?t:{default:t};var r=function(e){for(var t=e.A,r=e.C,o=e.D,a=e.W,u=0,i=0,c=0;c<5;c++){var s=2*c,f=2*(c+5),l=2*(c+10),p=2*(c+15),d=2*(c+20);r[s]=t[s]^t[f]^t[l]^t[p]^t[d],r[s+1]=t[s+1]^t[f+1]^t[l+1]^t[p+1]^t[d+1]}for(var h=0;h<5;h++){(0,n.default)(r,(h+1)%5)(a,0),u=a[0],i=a[1],a[0]=u<<1|i>>>31,a[1]=i<<1|u>>>31,o[2*h]=r[(h+4)%5*2]^a[0],o[2*h+1]=r[(h+4)%5*2+1]^a[1];for(var v=0;v<25;v+=5)t[2*(v+h)]^=o[2*h],t[2*(v+h)+1]^=o[2*h+1]}};e.default=r}(lr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(rr),n=a(ar),r=a(ir),o=a(lr);function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=new Uint32Array(10),a=new Uint32Array(10),u=new Uint32Array(2);return function(i){for(var c=0;c<24;c++)(0,o.default)({A:i,C:e,D:a,W:u}),(0,r.default)({A:i,C:e,W:u}),(0,t.default)({A:i,C:e}),(0,n.default)({A:i,roundIndex:c});e.fill(0),a.fill(0),u.fill(0)}};e.default=u}(nr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,n=It,r=(t=nr)&&t.__esModule?t:{default:t};var o=function(e,t){for(var n=0;n<e.length;n+=8){var r=n/4;t[r]^=e[n+7]<<24|e[n+6]<<16|e[n+5]<<8|e[n+4],t[r+1]^=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}return t},a=function(e,t){for(var n=0;n<t.length;n+=8){var r=n/4;t[n]=e[r+1],t[n+1]=e[r+1]>>>8,t[n+2]=e[r+1]>>>16,t[n+3]=e[r+1]>>>24,t[n+4]=e[r],t[n+5]=e[r]>>>8,t[n+6]=e[r]>>>16,t[n+7]=e[r]>>>24}return t},u=function(e){var t=this,u=e.capacity,i=e.padding,c=(0,r.default)(),s=u/8,f=200-u/4,l=0,p=new Uint32Array(50),d=n.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var n=0;n<e.length;n++)d[l]=e[n],(l+=1)>=f&&(o(d,p),c(p),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||n.Buffer.allocUnsafe(s),padding:e.padding||i,queue:n.Buffer.allocUnsafe(d.length),state:new Uint32Array(p.length)};d.copy(t.queue);for(var r=0;r<p.length;r++)t.state[r]=p[r];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[f-1]|=128,o(t.queue,t.state);for(var u=0;u<t.buffer.length;u+=f)c(t.state),a(t.state,t.buffer.slice(u,u+f));return t.buffer},this.reset=function(){return d.fill(0),p.fill(0),l=0,t},this};e.default=u}(tr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t,n=It,r=(t=tr)&&t.__esModule?t:{default:t};var o=function(e){var t=e.allowedSizes,o=e.defaultSize,a=e.padding;return function e(){var u=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!this||this.constructor!==e)return new e(i);if(t&&!t.includes(i))throw new Error("Unsupported hash length");var c=new r.default({capacity:i});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(n.Buffer.isBuffer(e))return c.absorb(e),u;if("string"==typeof e)return u.update(n.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,n=c.squeeze({buffer:t.buffer,padding:t.padding||a});return t.format&&"binary"!==t.format?n.toString(t.format):n},this.reset=function(){return c.reset(),u},this}},a=o({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=a;var u=o({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=u;var i=o({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=i;var c=a;e.SHA3Hash=c,u.SHA3Hash=c;var s=u;e.default=s}(er);var pr="function"==typeof queueMicrotask?queueMicrotask:function(e){return(fr||(fr=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},dr=function(){var e,t=[];return{deliver:function(n){return s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},hr="INIT",vr="SUBSCRIBE",gr="UNSUBSCRIBE",yr="UPDATED",mr="EXIT",br="TERMINATE",wr="object"===("undefined"==typeof self?"undefined":u(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":u(global))&&global.global===global&&global||"object"===("undefined"==typeof window?"undefined":u(window))&&window.window===window&&window;wr.FCL_REGISTRY=null==wr.FCL_REGISTRY?{}:wr.FCL_REGISTRY;var xr,kr=0,Er=5e3,Ir=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){var u=r.expectReply||!1,i=null!=r.timeout?r.timeout:Er;u&&i&&setTimeout((function(){return a(new Error("Timeout: ".concat(i,"ms passed without a response.")))}),i);var c={to:e,from:r.from,tag:t,data:n,timeout:i,reply:o,reject:a};try{wr.FCL_REGISTRY[e]&&wr.FCL_REGISTRY[e].mailbox.deliver(c),u||o(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",c,wr.FCL_REGISTRY[e],t)}}))},Sr=function(e){delete wr.FCL_REGISTRY[e]},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=s(x.mark((function t(n){var r;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e[hr]){t.next=3;break}return t.next=3,e[hr](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==mr){t.next=13;break}if("function"!=typeof e[br]){t.next=12;break}return t.next=12,e[br](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},Ar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++kr),null!=wr.FCL_REGISTRY[t])return t;wr.FCL_REGISTRY[t]={addr:t,mailbox:dr(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return wr.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.from=t,Ir(e,n,r,o)},sendSelf:function(e,n,r){wr.FCL_REGISTRY[t]&&Ir(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var o,a=k(wr.FCL_REGISTRY[t].subs);try{for(a.s();!(o=a.n()).done;){var u=o.value;Ir(u,e,n,r)}}catch(e){a.e(e)}finally{a.f()}},subscribe:function(e){return null!=e&&wr.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&wr.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return wr.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!wr.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(wr.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=wr.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete wr.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(wr.FCL_REGISTRY[t].kvs[e]=n(wr.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(wr.FCL_REGISTRY[t].kvs)},all:function(){return wr.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(wr.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?v(v({},n),{},d({},r,wr.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return wr.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){wr.FCL_REGISTRY[t].error=e;var n,r=k(wr.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var o=n.value;Ir(o,yr)}}catch(e){r.e(e)}finally{r.f()}}};return"object"===u(e)&&(e=Rr(e)),pr(s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:Sr(t);case 3:case"end":return r.stop()}}),r)})))),t};var Tr="config",Cr="PUT_CONFIG",_r="GET_CONFIG",Or="GET_ALL_CONFIG",Pr="UPDATE_CONFIG",Lr="DELETE_CONFIG",Nr="CLEAR_CONFIG",jr="WHERE_CONFIG",Br="CONFIG/UPDATED",Fr=function(e){return e},Ur=(d(xr={},Cr,(function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(Br,v({},e.all()))})),d(xr,_r,(function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))})),d(xr,Or,(function(e,t){t.reply(v({},e.all()))})),d(xr,Pr,(function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||Fr),e.broadcast(Br,v({},e.all()))})),d(xr,Lr,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(Br,v({},e.all()))})),d(xr,Nr,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(Br,v({},e.all()))})),d(xr,jr,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),d(xr,vr,(function(e,t){e.subscribe(t.from),e.send(t.from,Br,v({},e.all()))})),d(xr,gr,(function(e,t){e.unsubscribe(t.from)})),xr);function Gr(e,t){return Ir(Tr,Cr,{key:e,value:t}),Jr()}function Dr(e,t){return Ir(Tr,_r,{key:e,fallback:t},{expectReply:!0,timeout:10})}function Mr(){return zr.apply(this,arguments)}function zr(){return zr=s(x.mark((function e(){var t,n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1?i[1]:void 0,(t=i.length>0&&void 0!==i[0]?i[0]:[]).length){e.next=4;break}return e.abrupt("return",n);case 4:return r=l(t),o=r[0],a=r.slice(1),e.next=7,Dr(o);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",Mr(a,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Yr(){return Ir(Tr,Or,null,{expectReply:!0,timeout:10})}function qr(e){return Ir(Tr,Pr,{key:e,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr}),Jr()}function Kr(e){return Ir(Tr,Lr,{key:e}),Jr()}function Hr(e){return Ir(Tr,jr,{pattern:e},{expectReply:!0,timeout:10})}function Wr(e){return function(e,t,n){t(e);var r="@EXIT",o=Ar(function(){var t=s(x.mark((function t(o){var a,u;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.send(e,vr);case 1:return t.next=4,o.receive();case 4:if(a=t.sent,u=wr.FCL_REGISTRY[e].error,a.tag!==r){t.next=9;break}return o.send(e,gr),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),o.send(e,gr),t.abrupt("return");case 13:n(a.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return Ir(o,r)}}(Tr,(function(){return Ar(Ur,Tr)}),e)}function Vr(){return Ir(Tr,Nr)}function Jr(e){return null!=e&&"object"===u(e)&&Object.keys(e).map((function(t){return Gr(t,e[t])})),{put:Gr,get:Dr,all:Yr,first:Mr,update:qr,delete:Kr,where:Hr,subscribe:Wr,overload:$r}}Ar(Ur,Tr),Jr.put=Gr,Jr.get=Dr,Jr.all=Yr,Jr.first=Mr,Jr.update=qr,Jr.delete=Kr,Jr.where=Hr,Jr.subscribe=Wr,Jr.overload=$r;var Xr=function(e){return e};function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;return new Promise(function(){var n=s(x.mark((function n(r,o){var a,u;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yr();case 2:return a=n.sent,n.prev=3,Jr(e),n.t0=t,n.next=8,Yr();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,Vr();case 14:return n.next=16,Jr(a);case 16:r(u),n.next=26;break;case 19:return n.prev=19,n.t2=n.catch(3),n.next=23,Vr();case 23:return n.next=25,Jr(a);case 25:o(n.t2);case 26:case"end":return n.stop()}}),n,null,[[3,19]])})));return function(e,t){return n.apply(this,arguments)}}())}var Zr=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Qr=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},eo=function(){var e=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f,l,p,d;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,c=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,Jr.get("logger.level",Zr.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:d=Qr({title:i,message:c}),e.t0=s,e.next=e.t0===Zr.debug?10:e.t0===Zr.info?12:e.t0===Zr.warn?14:e.t0===Zr.error?16:18;break;case 10:return(n=console).debug.apply(n,M(d)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,M(d)),e.abrupt("break",19);case 14:return(o=console).warn.apply(o,M(d)),e.abrupt("break",19);case 16:return(a=console).error.apply(a,M(d)),e.abrupt("break",19);case 18:(u=console).log.apply(u,M(d));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e.length&&!t.length)return n;if(!e.length)return n;if(!t.length)return[].concat(M(n),[e[0]]);var r=l(e),o=r[0],a=r.slice(1),u=l(t),i=u[0],c=u.slice(1);return void 0!==o&&n.push(o),void 0!==i&&n.push(i),to(a,c,n)}function no(e){return function(t){return"function"==typeof t?(eo.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),no(e)(t(e))):String(t)}}function ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"==typeof e?function(){return e}:Array.isArray(e)?function(t){return to(e,n.map(no(t))).join("").trim()}:e}function oo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}eo.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,a=void 0===o?Zr.warn:o,u=e.message,i=void 0===u?"":u,c=e.callback,f=void 0===c?null:c,l=function(){return eo({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(i?"\n"+i:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:a});var e};return"function"==typeof f?s(x.mark((function e(){var t=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,f.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):l()};var ao="UNKNOWN",uo="SCRIPT",io="TRANSACTION",co="GET_TRANSACTION_STATUS",so="GET_ACCOUNT",fo="GET_EVENTS",lo="PING",po="GET_TRANSACTION",ho="GET_BLOCK",vo="GET_BLOCK_HEADER",go="GET_COLLECTION",yo="GET_NETWORK_PARAMETERS",mo="BAD",bo="OK",wo="ACCOUNT",xo="PARAM",ko="ARGUMENT",Eo="authorizer",Io="payer",So="proposer",Ro='{\n  "kind":"'.concat(wo,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),Ao='{\n  "kind":"'.concat(ko,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),To='{\n  "tag":"'.concat(ao,'",\n  "assigns":{},\n  "status":"').concat(bo,'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),Co=new Set(Object.keys(JSON.parse(To))),_o=function(){return JSON.parse(To)},Oo="abcdefghijklmnopqrstuvwxyz0123456789".split(""),Po=function(){return Oo[~~(Math.random()*Oo.length)]},Lo=function(){return Array.from({length:10},Po).join("")},No=function(e){return"number"==typeof e},jo=function(e){return Array.isArray(e)},Bo=function(e){return null!==e&&"object"===u(e)},Fo=function(e){return null==e},Uo=function(e){return"function"==typeof e},Go=function(e){if(!Bo(e)||Fo(e)||No(e))return!1;var t,n=k(Co);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!e.hasOwnProperty(r))return!1}}catch(e){n.e(e)}finally{n.f()}return!0},Do=function(e){return e.status=bo,e},Mo=function(e,t){return e.status=mo,e.reason=t,e},zo=function(e){return function(t){return t.tag=e,Do(t)}},Yo=function(e){return null==e.keyId?e:(ht(!isNaN(parseInt(e.keyId)),"account.keyId must be an integer"),v(v({},e),{},{keyId:parseInt(e.keyId)}))},qo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){ht("function"==typeof e||"object"===u(e),"prepAccount must be passed an authorization function or an account object"),ht(null!=t.role,"Account must have a role");var r=JSON.parse(Ro),o=t.role,a=Lo();e.authorization&&Uo(e.authorization)&&(e={resolve:e.authorization}),!e.authorization&&Uo(e)&&(e={resolve:e});var i=e.resolve;return i&&(e.resolve=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[i,Yo].reduce(function(){var e=s(x.mark((function e(t,r){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=void 0,e.next=4,t;case 4:return e.t2=e.sent,e.t3=[e.t2].concat(n),e.abrupt("return",e.t0.apply.call(e.t0,e.t1,e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e)}),e=Yo(e),n.accounts[a]=v(v(v({},r),{},{tempId:a},e),{},{role:v(v(v({},r.role),"object"===u(e.role)?e.role:{}),{},d({},o,!0))}),o===Eo?n.authorizations.push(a):o===Io?n.payer.push(a):n[o]=a,n}},Ko=function(e){return function(t){var n=Lo();return t.message.arguments.push(n),t.arguments[n]=JSON.parse(Ao),t.arguments[n].tempId=n,t.arguments[n].value=e.value,t.arguments[n].asArgument=e.asArgument,t.arguments[n].xform=e.xform,t.arguments[n].resolve=e.resolve,t.arguments[n].resolveArgument=Uo(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,Do(t)}},Ho=zo(ao),Wo=zo(uo),Vo=zo(io),Jo=zo(co),Xo=zo(po),$o=zo(so),Zo=zo(fo),Qo=zo(lo),ea=zo(ho),ta=zo(vo),na=zo(go),ra=zo(yo),oa=function(e){return function(t){return t.tag===e}},aa=oa(ao),ua=oa(uo),ia=oa(io),ca=oa(co),sa=oa(po),fa=oa(so),la=oa(fo),pa=oa(lo),da=oa(ho),ha=oa(vo),va=oa(go),ga=oa(yo),ya=function(e){return e.status===bo},ma=function(e){return e.status===mo},ba=function(e){return e.reason},wa=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!Co.has(r))throw new Error('"'.concat(r,'" is an invalid root level Interaction property.'))}return e},xa=function(){var e=s(x.mark((function e(t){var n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],e.prev=1,e.t0=wa,e.next=5,t;case 5:if(e.t1=e.sent,t=(0,e.t0)(e.t1),!ma(t)){e.next=9;break}throw new Error("Interaction Error: ".concat(t.reason));case 9:if(n.length){e.next=11;break}return e.abrupt("return",t);case 11:return r=l(n),o=r[0],a=r.slice(1),e.next=14,o;case 14:if(u=e.sent,!Uo(u)){e.next=17;break}return e.abrupt("return",xa(u(t),a));case 17:if(!Fo(u)&&u){e.next=19;break}return e.abrupt("return",xa(t,a));case 19:if(!Go(u)){e.next=21;break}return e.abrupt("return",xa(u,a));case 21:throw new Error("Invalid Interaction Composition");case 24:throw e.prev=24,e.t2=e.catch(1),e.t2;case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),ka=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],a=n[1];return jo(o)&&null==a?function(t){return e(t,o)}:xa(o,a)},Ea=function(e){return e},Ia=function(e,t,n){return null==e.assigns[t]?n:e.assigns[t]},Sa=function(e,t){return function(n){return n.assigns[e]=t,Do(n)}},Ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ea;return function(n){return n.assigns[e]=t(n.assigns[e],n),Do(n)}},Aa=Object.freeze({__proto__:null,UNKNOWN:ao,SCRIPT:uo,TRANSACTION:io,GET_TRANSACTION_STATUS:co,GET_ACCOUNT:so,GET_EVENTS:fo,PING:lo,GET_TRANSACTION:po,GET_BLOCK:ho,GET_BLOCK_HEADER:vo,GET_COLLECTION:go,GET_NETWORK_PARAMETERS:yo,BAD:mo,OK:bo,ACCOUNT:wo,PARAM:xo,ARGUMENT:ko,AUTHORIZER:Eo,PAYER:Io,PROPOSER:So,interaction:_o,uuid:Lo,isNumber:No,isArray:jo,isObj:Bo,isNull:Fo,isFn:Uo,isInteraction:Go,Ok:Do,Bad:Mo,prepAccount:qo,makeArgument:Ko,makeUnknown:Ho,makeScript:Wo,makeTransaction:Vo,makeGetTransactionStatus:Jo,makeGetTransaction:Xo,makeGetAccount:$o,makeGetEvents:Zo,makePing:Qo,makeGetBlock:ea,makeGetBlockHeader:ta,makeGetCollection:na,makeGetNetworkParameters:ra,isUnknown:aa,isScript:ua,isTransaction:ia,isGetTransactionStatus:ca,isGetTransaction:sa,isGetAccount:fa,isGetEvents:la,isPing:pa,isGetBlock:da,isGetBlockHeader:ha,isGetCollection:va,isGetNetworkParameters:ga,isOk:ya,isBad:ma,why:ba,isAccount:function(e){return e.kind===wo},isParam:function(e){return e.kind===xo},isArgument:function(e){return e.kind===ko},pipe:ka,get:Ia,put:Sa,update:Ra,destroy:function(e){return function(t){return delete t.assigns[e],Do(t)}}});function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ka(_o(),e)}var Ca=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null,\n    "networkParameters":null\n}')};function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ka([ea,function(t){return t.block.isSealed=e,Do(t)}])}function Oa(e){return ka([$o,function(t){return t.account.addr=Yt(e),Do(t)}])}var Pa=function(){dt.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},La=function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=s(x.mark((function e(){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ja=function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.staticType);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ba=function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{domain:t.domain,identifier:t.identifier});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:t.path,address:t.address,borrowType:t.borrowType});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ua=function(){var e=s(x.mark((function e(t,n,r){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Ka(t,n,r);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ga=function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{address:t.address,type:t.type});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Da=function(){var e=s(x.mark((function e(t,n,r){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return new Promise(function(){var t=s(x.mark((function t(o){return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,Ka(e,n,[].concat(M(r),[e.type]));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ma=function(){var e=s(x.mark((function e(t,n,r){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reduce(function(){var e=s(x.mark((function e(t,o){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,Ka(o.key,n,[].concat(M(r),[o.key]));case 5:return e.t0=e.sent,e.next=8,Ka(o.value,n,[].concat(M(r),[o.key]));case 8:return t[e.t0]=e.sent,e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),za=function(){var e=s(x.mark((function e(t,n,r){var o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fields.reduce(function(){var e=s(x.mark((function e(t,o){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,Ka(o.value,n,[].concat(M(r),[o.name]));case 5:return t[o.name]=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(o=e.sent,!(a=t.id&&qa(n,t.id))){e.next=10;break}return e.next=7,a(o);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=o;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ya={UInt:La,Int:La,UInt8:La,Int8:La,UInt16:La,Int16:La,UInt32:La,Int32:La,UInt64:La,Int64:La,UInt128:La,Int128:La,UInt256:La,Int256:La,Word8:La,Word16:La,Word32:La,Word64:La,UFix64:La,Fix64:La,String:La,Character:La,Bool:La,Address:La,Void:Na,Optional:Ua,Reference:Ga,Array:Da,Dictionary:Ma,Event:za,Resource:za,Struct:za,Enum:za,Type:ja,Path:Ba,Capability:Fa},qa=function(e,t){var n=Object.keys(e).find((function(e){return/^\/.*\/$/.test(e)?new RegExp(e.substring(1,e.length-1)).test(t):e===t}));return t&&n&&e[n]},Ka=function(){var e=s(x.mark((function e(t,n,r){var o;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=qa(n,t.type)){e.next=3;break}throw new Error("Undefined Decoder Error: ".concat(t.type,"@").concat(r.join(".")));case 3:return e.next=5,o(t.value,n,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ha=function(){var e=s(x.mark((function e(t){var n,r,o,a,u=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]?u[2]:[],o=Object.keys(Ya).filter((function(e){return!Object.keys(n).find((function(t){return new RegExp(t).test(e)}))})).reduce((function(e,t){return e[t]=Ya[t],e}),n),a=v(v({},o),n),e.abrupt("return",Ka(t,a,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wa=function(){var e=s(x.mark((function e(t){var n,r,o=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},!t.encodedData){e.next=5;break}return e.abrupt("return",Ha(t.encodedData,n));case 5:if(!t.transactionStatus){e.next=16;break}return e.t0=v,e.t1=v({},t.transactionStatus),e.t2={},e.next=11,Promise.all(t.transactionStatus.events.map(function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.type,e.t1=t.transactionId,e.t2=t.transactionIndex,e.t3=t.eventIndex,e.next=6,Ha(t.payload,n);case 6:return e.t4=e.sent,e.abrupt("return",{type:e.t0,transactionId:e.t1,transactionIndex:e.t2,eventIndex:e.t3,data:e.t4});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.t3=e.sent,e.t4={events:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 16:if(!t.transaction){e.next=20;break}return e.abrupt("return",t.transaction);case 20:if(!t.events){e.next=26;break}return e.next=23,Promise.all(t.events.map(function(){var e=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.blockId,e.t1=t.blockHeight,e.t2=t.blockTimestamp,e.t3=t.type,e.t4=t.transactionId,e.t5=t.transactionIndex,e.t6=t.eventIndex,e.next=9,Ha(t.payload,n);case 9:return e.t7=e.sent,e.abrupt("return",{blockId:e.t0,blockHeight:e.t1,blockTimestamp:e.t2,type:e.t3,transactionId:e.t4,transactionIndex:e.t5,eventIndex:e.t6,data:e.t7});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:return e.abrupt("return",e.sent);case 26:if(!t.account){e.next=30;break}return e.abrupt("return",t.account);case 30:if(!t.block){e.next=34;break}return e.abrupt("return",t.block);case 34:if(!t.blockHeader){e.next=38;break}return e.abrupt("return",t.blockHeader);case 38:if(!t.latestBlock){e.next=43;break}return Pa(),e.abrupt("return",t.latestBlock);case 43:if(!t.transactionId){e.next=47;break}return e.abrupt("return",t.transactionId);case 47:if(!t.collection){e.next=51;break}return e.abrupt("return",t.collection);case 51:if(!t.networkParameters){e.next=54;break}return r={"flow-testnet":"testnet","flow-mainnet":"mainnet","flow-emulator":"local"},e.abrupt("return",{chainId:r[t.networkParameters.chainId]});case 54:return e.abrupt("return",null);case 55:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Va=function(e){return"function"==typeof e},Ja=function(e){return"string"==typeof e},Xa=function(){return/\b(0x\w+)\b/g};function $a(e){return Xa().test(e)}var Za=function(){return/import\s+"(\w+)"/g};function Qa(e){return Za().test(e)}function eu(e){return e.matchAll(Za())}function tu(){return(tu=s(x.mark((function e(t){var n,r,o,u,i,c,s;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ia(t)||ua(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(n=Ia(t,"ix.cadence"),ht(Va(n)||Ja(n),"Cadence needs to be a function or a string."),!Va(n)){e.next=8;break}return e.next=7,n({});case 7:n=e.sent;case 8:if(ht(Ja(n),"Cadence needs to be a string at this point."),ht(!$a(n)||!Qa(n),"Both account identifier and contract identifier syntax not simultaneously supported."),!$a(n)){e.next=14;break}return e.next=13,ct().where(/^0x/).then((function(e){return Object.entries(e).reduce((function(e,t){var n=a(t,2),r=n[0],o=n[1],u=new RegExp("(\\b"+r+"\\b)","g");return e.replace(u,o)}),n)}));case 13:n=e.sent;case 14:if(!Qa(n)){e.next=34;break}r=k(eu(n)),e.prev=16,r.s();case 18:if((o=r.n()).done){e.next=26;break}return u=a(o.value,2),i=u[0],c=u[1],e.next=22,ct().get("system.contracts.".concat(c));case 22:(s=e.sent)?n=n.replace(i,"import ".concat(c," from ").concat(qt(s))):dt({title:"Contract Placeholder not found",message:"Cannot find a value for contract placeholder ".concat(c,". Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace."),level:lt.warn});case 24:e.next=18;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(16),r.e(e.t0);case 31:return e.prev=31,r.f(),e.finish(31);case 34:return t.message.cadence=n,e.abrupt("return",t);case 36:case"end":return e.stop()}}),e,null,[[16,28,31,34]])})))).apply(this,arguments)}var nu=function(e){return"function"==typeof e};function ru(e){return ht(null!=u(e.xform),"No type specified for argument: ".concat(e.value)),nu(e.xform)?e.xform(e.value):nu(e.xform.asArgument)?e.xform.asArgument(e.value):void ht(!1,"Invalid Argument",e)}function ou(e){return au.apply(this,arguments)}function au(){return au=s(x.mark((function e(t){var n,r,o=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht((n=o.length>1&&void 0!==o[1]?o[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(t.tempId)),!nu(t.resolveArgument)){e.next=9;break}return e.next=5,t.resolveArgument();case 5:return r=e.sent,e.abrupt("return",ou(r,n-1));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function uu(){return uu=s(x.mark((function e(t){var n,r,o,u,i,c;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)&&!ua(t)){e.next=11;break}n=0,r=Object.entries(t.arguments);case 2:if(!(n<r.length)){e.next=11;break}return o=a(r[n],2),u=o[0],i=o[1],e.next=6,ou(i);case 6:c=e.sent,t.arguments[u].asArgument=ru(c);case 8:n++,e.next=2;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}var iu,cu,su=function(e){return du(bu(xu(e)))},fu=function(e){return du(bu(ku(e)))},lu=function(e,t){return It.Buffer.from(e.padStart(2*t,0),"hex")},pu=(iu=It.Buffer.from("FLOW-V0.0-transaction").toString("hex"),cu=32,It.Buffer.from(iu.padEnd(2*cu,0),"hex")).toString("hex"),du=function(e){return pu+e},hu=function(e){return lu(e,8)},vu=function(e){return lu(e,32)},gu=function(e){return It.Buffer.from(JSON.stringify(e),"utf8")},yu=function(e){return It.Buffer.from(e,"utf8")},mu=function(e){return It.Buffer.from(e,"hex")},bu=function(e){return jt(e).toString("hex")},wu=function(e){var t=new er.SHA3(256);return t.update(It.Buffer.from(e,"hex")),t.digest().toString("hex")},xu=function(e){return Ru(e),[yu(e.cadence),e.arguments.map(gu),vu(e.refBlock),e.computeLimit,hu(Yt(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,hu(Yt(e.payer)),e.authorizers.map((function(e){return hu(Yt(e))}))]},ku=function(e){return Au(e),[xu(e),Eu(e)]},Eu=function(e){var t=Iu(e);return e.payloadSigs.map((function(e){return{signerIndex:t.get(e.address),keyId:e.keyId,sig:e.sig}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,mu(e.sig)]}))},Iu=function(e){var t=new Map,n=0,r=function(e){t.has(e)||(t.set(e,n),n++)};return r(e.proposalKey.address),r(e.payer),e.authorizers.forEach(r),t},Su=function(e){Tu(e);var t=Iu(e),n=function(e){return e.map((function(e){var n=e.address,r=e.keyId,o=e.sig;return{signerIndex:t.get(n),keyId:r,sig:o}})).sort((function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0})).map((function(e){return[e.signerIndex,e.keyId,mu(e.sig)]}))};return[[yu(e.cadence),e.arguments.map(gu),vu(e.refBlock),e.computeLimit,hu(Yt(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,hu(Yt(e.payer)),e.authorizers.map((function(e){return hu(Yt(e))}))],n(e.payloadSigs),n(e.envelopeSigs)]},Ru=function(e){Lu.forEach((function(t){return Gu(e,t)})),Nu.forEach((function(t){return Gu(e.proposalKey,t,"proposalKey")}))},Au=function(e){ju.forEach((function(t){return Gu(e,t)})),e.payloadSigs.forEach((function(e,t){Bu.forEach((function(n){return Gu(e,n,"payloadSigs",t)}))}))},Tu=function(e){Lu.forEach((function(t){return Gu(e,t)})),Nu.forEach((function(t){return Gu(e.proposalKey,t,"proposalKey")})),ju.forEach((function(t){return Gu(e,t)})),e.payloadSigs.forEach((function(e,t){Bu.forEach((function(n){return Gu(e,n,"payloadSigs",t)}))})),Fu.forEach((function(t){return Gu(e,t)})),e.envelopeSigs.forEach((function(e,t){Uu.forEach((function(n){return Gu(e,n,"envelopeSigs",t)}))}))},Cu=function(e){return"number"==typeof e},_u=function(e){return"string"==typeof e},Ou=function(e){return null!==e&&"object"===u(e)},Pu=function(e){return Ou(e)&&e instanceof Array},Lu=[{name:"cadence",check:_u},{name:"arguments",check:Pu},{name:"refBlock",check:_u,defaultVal:"0"},{name:"computeLimit",check:Cu},{name:"proposalKey",check:Ou},{name:"payer",check:_u},{name:"authorizers",check:Pu}],Nu=[{name:"address",check:_u},{name:"keyId",check:Cu},{name:"sequenceNum",check:Cu}],ju=[{name:"payloadSigs",check:Pu}],Bu=[{name:"address",check:_u},{name:"keyId",check:Cu},{name:"sig",check:_u}],Fu=[{name:"envelopeSigs",check:Pu}],Uu=[{name:"address",check:_u},{name:"keyId",check:Cu},{name:"sig",check:_u}],Gu=function(e,t,n,r){var o=t.name,a=t.check,u=t.defaultVal;if(null==e[o]&&null!=u&&(e[o]=u),null==e[o])throw Mu(o,n,r);if(!a(e[o]))throw zu(o,n,r)},Du=function(e,t,n){return t?null==n?"".concat(t,".").concat(e):"".concat(t,".").concat(n,".").concat(e):e},Mu=function(e,t,n){return new Error("Missing field ".concat(Du(e,t,n)))},zu=function(e,t,n){return new Error("Invalid field ".concat(Du(e,t,n)))};function Yu(e){var t=new Set(e.authorizations);return t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach((function(e){return t.delete(e)})):t.delete(e.payer),Array.from(t)}function qu(e){var t=new Set(Array.isArray(e.payer)?e.payer:[e.payer]);return Array.from(t)}var Ku=function(e){return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:qt(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:qt(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:function(){var t=e.authorizations.map((function(t){return qt(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(M(e),[t])}),[]);return t[0]?t:[]}(),payloadSigs:Yu(e).map((function(t){return{address:qt(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})),envelopeSigs:qu(e).map((function(t){return{address:qt(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}))}},Hu=function(e){return"".concat(qt(e.addr),"-").concat(e.keyId)},Wu=function(e){return"function"==typeof e};function Vu(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map((function(e){return t.arguments[e].asArgument})),data:{},interaction:t,voucher:Ku(t)}}catch(e){throw console.error("buildPreSignable",e),e}}function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return Xu=s(x.mark((function e(t,n,r){var o,a,u,i,c,s,f=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ht(o=f.length>3&&void 0!==f[3]?f[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:n}),a=[],u=k(n),e.prev=4,c=x.mark((function e(){var n,u,c,f;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.value,u=n.resolve,n.resolve=null,s=r||n,!Wu(u)){e.next=8;break}return e.next=7,u(n,Vu(n,t));case 7:n=e.sent;case 8:if(!Array.isArray(n)){e.next=13;break}return e.next=11,Ju(t,n,s,o-1);case 11:e.next=30;break;case 13:if(n.addr&&(n.addr=Yt(n.addr)),null!=n.addr&&null!=n.keyId&&(n.tempId=Hu(n)),t.accounts[n.tempId]=t.accounts[n.tempId]||n,t.accounts[n.tempId].role.proposer=t.accounts[n.tempId].role.proposer||n.role.proposer,t.accounts[n.tempId].role.payer=t.accounts[n.tempId].role.payer||n.role.payer,t.accounts[n.tempId].role.authorizer=t.accounts[n.tempId].role.authorizer||n.role.authorizer,t.accounts[n.tempId].role.proposer&&t.proposer===s.tempId&&(t.proposer=n.tempId),!t.accounts[n.tempId].role.payer){e.next=29;break}if(Array.isArray(t.payer)?t.payer=Array.from(new Set([].concat(M(t.payer),[n.tempId]).map((function(e){return e===s.tempId?n.tempId:e})))):t.payer=Array.from(new Set([t.payer,n.tempId].map((function(e){return e===s.tempId?n.tempId:e})))),!(t.payer.length>1)){e.next=29;break}if(c=[],f=[],t.payer=t.payer.reduce((function(e,n){var r=t.accounts[n].addr,o=Hu(t.accounts[n]);return f.push(r),c.includes(o)?e:(c.push(o),[].concat(M(e),[n]))}),[]),!(Array.from(new Set(f)).length>1)){e.next=29;break}throw new Error("Payer can not be different accounts");case 29:t.accounts[n.tempId].role.authorizer&&(r?a=Array.from(new Set([].concat(M(a),[n.tempId]))):t.authorizations=t.authorizations.map((function(e){return e===s.tempId?n.tempId:e})));case 30:s.tempId!=n.tempId&&delete t.accounts[s.tempId];case 31:case"end":return e.stop()}}),e)})),u.s();case 7:if((i=u.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),u.e(e.t1);case 16:return e.prev=16,u.f(),e.finish(16);case 19:r&&(t.authorizations=t.authorizations.map((function(e){return e===r.tempId?a:e})).reduce((function(e,t){return Array.isArray(t)?[].concat(M(e),M(t)):[].concat(M(e),[t])}),[]));case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])}))),Xu.apply(this,arguments)}function $u(){return($u=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)){e.next=13;break}return Array.isArray(t.payer)||dt.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),e.prev=2,e.next=5,Ju(t,Object.values(t.accounts));case 5:return e.next=7,Ju(t,Object.values(t.accounts));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.error("=== SAD PANDA ===\n\n",e.t0,"\n\n=== SAD PANDA ==="),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Zu(){return(Zu=s(x.mark((function e(t){var n,r,o,a;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)){e.next=16;break}return e.prev=1,n=Yu(t),r=su(ti(t)),e.next=6,Promise.all(n.map(Qu(t,r)));case 6:return o=qu(t),a=fu(v(v({},ti(t)),{},{payloadSigs:n.map((function(e){return{address:t.accounts[e].addr,keyId:t.accounts[e].keyId,sig:t.accounts[e].signature}}))})),e.next=10,Promise.all(o.map(Qu(t,a)));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Signatures",e.t0,{ix:t}),e.t0;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Qu(e,t){return function(){var n=s(x.mark((function n(r){var o,a,u;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(o=e.accounts[r]).signature){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,o.signingFunction(ei(o,t,e));case 5:a=n.sent,u=a.signature,e.accounts[r].signature=u;case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function ei(e,t,n){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:Yt(e.addr),keyId:e.keyId,roles:e.role,cadence:n.message.cadence,args:n.message.arguments.map((function(e){return n.arguments[e].asArgument})),data:{},interaction:n,voucher:Ku(n)}}catch(e){throw console.error("buildSignable",e),e}}function ti(e){var t=Yt((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr);return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map((function(t){return e.arguments[t].asArgument})),proposalKey:{address:Yt(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:t,authorizers:e.authorizations.map((function(t){return Yt(e.accounts[t].addr)})).reduce((function(e,t){return e.find((function(e){return e===t}))?e:[].concat(M(e),[t])}),[])}}function ni(){return(ni=s(x.mark((function e(t){var n;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ia(t,"ix.validators",[]),e.abrupt("return",ka(t,n.map((function(e){return function(t){return e(t,{Ok:Do,Bad:Mo})}}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(){return(ri=s(x.mark((function e(t){var n,r,o;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0,r=Object.keys(t.accounts);n<r.length;n++)o=r[n],t.accounts[o].addr=Yt(t.accounts[o].addr);return e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oi(){return(oi=s(x.mark((function e(t){var n;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ia(t,"ix.voucher-intercept"),!Uo(n)){e.next=4;break}return e.next=4,n(Ku(t));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ai=100;function ui(){return(ui=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)){e.next=8;break}if(e.t0=t.message.computeLimit,e.t0){e.next=6;break}return e.next=5,ct.get("fcl.limit");case 5:e.t0=e.sent;case 6:t.message.computeLimit=e.t0,t.message.computeLimit||(dt.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),t.message.computeLimit=ai);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ii=function(e){return e},ci=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii;return function(){var n=s(x.mark((function n(r){var o,a;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},a=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=console).log.apply(t,["debug[".concat(e,"] ---\n")].concat(r,["\n\n\n---"]))},n.next=5,ct.get("debug.".concat(e));case 5:if(!n.sent){n.next=8;break}return n.next=8,t(r,a,o);case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},si=ka([function(e){return tu.apply(this,arguments)},ci("cadence",(function(e,t){return t(e.message.cadence)})),function(e){return ui.apply(this,arguments)},ci("compute limit",(function(e,t){return t(e.message.computeLimit)})),function(e){return uu.apply(this,arguments)},ci("arguments",(function(e,t){return t(e.message.arguments,e.message)})),function(e){return $u.apply(this,arguments)},ci("accounts",(function(e,t,n){return t.apply(void 0,M(n(e)))})),function(e){return fi.apply(this,arguments)},function(e){return li.apply(this,arguments)},function(e){return Zu.apply(this,arguments)},ci("signatures",(function(e,t,n){return t.apply(void 0,M(n(e)))})),function(e){return ri.apply(this,arguments)},function(e){return ni.apply(this,arguments)},function(e){return oi.apply(this,arguments)},ci("resolved",(function(e,t){return t(e)}))]);function fi(){return(fi=s(x.mark((function e(t){var n,r;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)||null!=t.message.refBlock){e.next=11;break}return e.next=3,ct().get("accessNode.api");case 3:return n=e.sent,e.next=6,ct.first(["sdk.transport","sdk.send"],Qn);case 6:return ht(r=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=10,r(Ta([_a()]),{config:ct,response:Ca,Buffer:It.Buffer,ix:Aa},{node:n}).then(Wa);case 10:t.message.refBlock=e.sent.id;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(){return(li=s(x.mark((function e(t){var n,r,o;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ia(t)){e.next=20;break}if(ht(n=Object.values(t.accounts).find((function(e){return e.role.proposer})),"Transactions require a proposer"),null!=n.sequenceNum){e.next=20;break}return e.next=6,ct().get("accessNode.api");case 6:return r=e.sent,e.next=9,ct.first(["sdk.transport","sdk.send"],Qn);case 9:return ht(o=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.t0=o,e.next=14,Ta([Oa(n.addr)]);case 14:return e.t1=e.sent,e.t2={config:ct,response:Ca,Buffer:It.Buffer,ix:Aa},e.t3={node:r},e.next=19,(0,e.t0)(e.t1,e.t2,e.t3).then(Wa).then((function(e){return e.keys})).then((function(e){return e.find((function(e){return e.index===n.keyId}))})).then((function(e){return e.sequenceNumber}));case 19:t.accounts[n.tempId].sequenceNum=e.sent;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){var r=t[0],o=t[1];return pi((function(e,t){var n=t.Ok,a=t.Bad;return r?n(e):a(e,o)}))}var a=t[0];return function(e){return a(e,{Ok:Do,Bad:Mo})}}var di=function(){var e=s(x.mark((function e(){var t,n,r,o,a=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,ct.first(["sdk.transport","sdk.send"],n.send||Qn);case 4:return pi(r=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=8,ct.first(["sdk.resolve"],n.resolve||si);case 8:if(o=e.sent,e.t0=n.node,e.t0){e.next=14;break}return e.next=13,ct().get("accessNode.api");case 13:e.t0=e.sent;case 14:return n.node=e.t0,Array.isArray(t)&&(t=ka(_o(),t)),e.t1=r,e.next=19,o(t);case 19:return e.t2=e.sent,e.t3={config:ct,response:Ca,ix:Aa,Buffer:It.Buffer},e.t4=n,e.abrupt("return",(0,e.t1)(e.t2,e.t3,e.t4));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function hi(e){return vi.apply(this,arguments)}function vi(){return vi=s(x.mark((function e(t){var n,r;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct().where(/^decoder\./);case 2:return n=e.sent,r=Object.entries(n).map((function(e){var t=a(e,2),n=t[0],r=t[1];return[n="/".concat(n.replace(/^decoder\./,""),"$/"),r]})),e.abrupt("return",Wa(t,Object.fromEntries(r)));case 5:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}var gi=function(e){wt(n,e);var t=Et(n);function n(e){var r;vt(this,n);var o="\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ".concat(e,". \n        Please ensure the address: ").concat(e," is intended to sign the given transaction as specified by the transaction signable.\n      ").trim();return(r=t.call(this,o)).name="Unable To Determine Message Encoding For Signer Addresss",r}return yt(n)}(Dt(Error));function yi(e){return Ra("ix.validators",(function(t){return Array.isArray(t)?t.push(e):[e]}))}function mi(e){return ka([function(t){return t.block.height=e,t},yi((function(e){if("boolean"==typeof e.block.isSealed)throw new Error("Unable to specify both block height and isSealed.");if(e.block.id)throw new Error("Unable to specify both block height and block id.");return e}))])}function bi(e){return ka([function(t){return t.block.id=e,Do(t)},yi((function(e,t){var n=t.Ok,r=t.Bad;return fa(e)?r(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?r(e,"Unable to specify both block id and isSealed."):e.block.height?r(e,"Unable to specify both block id and block height."):n(e)}))])}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sealed,n=void 0!==t&&t,r=e.id,o=e.height,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ht(!(n&&r||n&&o),'Method: block -- Cannot pass "sealed" with "id" or "height"'),ht(!(r&&o),'Method: block -- Cannot pass "id" and "height" simultaneously'),r?di([_a(),bi(r)],a).then(Wa):o?di([_a(),mi(o)],a).then(Wa):di([_a(n)],a).then(Wa)}function xi(){return ka((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return qo(e,{role:Eo})})))}function ki(e,t,n){return ka([Zo,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,Do(r)}])}function Ei(e){return ka([Jo,function(t){return t.transaction.id=e,Do(t)}])}function Ii(){return ka([ra,function(e){return Do(e)}])}function Si(e){return function(t){return t.message.computeLimit=e,t}}function Ri(){return ka((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Ko))}function Ai(e,t){return{value:e,xform:t}}function Ti(e){return Ci.apply(this,arguments)}function Ci(){return Ci=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,{role:So}));case 1:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function _i(e){return Oi.apply(this,arguments)}function Oi(){return Oi=s(x.mark((function e(t){return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,{role:Io}));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(e){return ka([function(t){return t.message.refBlock=e,Do(t)}])}function Li(){return ka([Wo,Sa("ix.cadence",ro.apply(void 0,arguments))])}var Ni=[],ji=null;function Bi(){return ka([Vo,Sa("ix.cadence",ro.apply(void 0,arguments)),function(e){return e.message.refBlock=e.message.refBlock||ji,e.authorizations=e.authorizations||Ni,Do(e)}])}function Fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return ht(e.account,"mockAccountResponse(ix) -- ix.account is missing",e),ht(e.account.addr,"mockAccountResponse(ix) -- ix.account.addr is missing",e),{account:{addr:e.account.addr,keys:Array.from({length:t},(function(e,t){return{index:t,sequenceNumber:42}}))}}}var Ui=function(e){return e};var Gi=["tempId"];function Di(e){return["SIGNATURE",e.addr,e.keyId].join(".")}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=v(v(v({},t),e),{},{signingFunction:e.signingFunction||t.signingFunction||function(e){return{addr:n.addr,keyId:n.keyId,signature:Di(n)}}});return n}}var zi={proposer:!1,authorizer:!1,payer:!1};var Yi=Object.freeze({__proto__:null,mockSend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui;return function(){var t=s(x.mark((function t(n){return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:n=t.sent,t.t0=!0,t.next=t.t0===fa(n)?6:t.t0===da(n)?7:8;break;case 6:return t.abrupt("return",Fi(n));case 7:return t.abrupt("return",{tag:"GET_BLOCK",block:{id:"32"}});case 8:return t.abrupt("return",e(n));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},authzFn:Mi,authzResolve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.tempId,r=oo(e,Gi);return v(v({},t),{},{tempId:n||"WITH_RESOLVE",resolve:Mi(r)})}},authzResolveMany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.tempId||"AUTHZ_RESOLVE_MANY";return v(v({},t),{},{tempId:n,resolve:function(){return[e.proposer&&Mi(e.proposer)({role:v(v({},zi),{},{proposer:!0})})].concat(M(e.authorizations.map(Mi).map((function(e){return e({role:v(v({},zi),{},{authorizer:!0})})}))),[e.payer&&Mi(e.payer)({role:v(v({},zi),{},{payer:!0})})]).filter(Boolean)}})}},sig:Di,idof:function(e){return"".concat(qt(e.addr),"-").concat(e.keyId)},run:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ta([Pi("123")].concat(M(e))).then(si)}});function qi(){return Ki.apply(this,arguments)}function Ki(){return Ki=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di([Ii()]).then(hi);case 2:return t=e.sent,e.abrupt("return",t.chainId);case 4:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Hi(){return Wi.apply(this,arguments)}function Wi(){return(Wi=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi();case 2:return t=e.sent,ct.put("flow.network.default",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(){return Ji.apply(this,arguments)}function Ji(){return(Ji=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.get("flow.network.default");case 2:if(t=e.sent){e.next=19;break}return e.next=6,Hi();case 6:if(t=e.sent){e.next=19;break}return e.next=10,ct.get("flow.network");case 10:if(!(t=e.sent)){e.next=15;break}dt.deprecate({pkg:"FCL",subject:'Using the "flow.network" configuration key for specifying the flow network',message:"Configuring flow.network is no longer required",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0002-deprecate-flow.network-config-key"}),e.next=19;break;case 15:return e.next=17,ct.get("env");case 17:(t=e.sent)&&dt.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:"Configuring to specify flow network is no longer required",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 19:return ht(t,"Error getting chainId from access node. Please configure flow.network instead"),e.abrupt("return",t);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xi,$i,Zi={can:!("undefined"==typeof window),get:($i=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("get called",t));case 1:case"end":return e.stop()}}),e)}))),function(e){return $i.apply(this,arguments)}),put:(Xi=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",console.log("put called",t,n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return Xi.apply(this,arguments)})};function Qi(e){return ec.apply(this,arguments)}function ec(){return ec=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=Object,e.next=4,ct().where(t);case 4:return e.t2=e.sent,e.t3=e.t1.entries.call(e.t1,e.t2).map((function(e){var n=a(e,2),r=n[0],o=n[1];return[r.replace(t,""),o]})),e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t3));case 7:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}ct({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":Zi}),Hi();var tc,nc="1.4.0-alpha.1",rc=function(e){return function(t){return u(t)===e}},oc=function(e){return null!=e},ac=rc("object"),uc=rc("string"),ic=rc("function"),cc=rc("number"),sc="function"==typeof queueMicrotask?queueMicrotask:function(e){return(tc||(tc=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},fc=function(){var e,t=[];return{deliver:function(n){return s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.push(n),e&&(e(t.shift()),e=void 0);case 2:case"end":return r.stop()}}),r)})))()},receive:function(){return new Promise((function(n){var r=t.shift();if(r)return n(r);e=n}))}}},lc="INIT",pc="SUBSCRIBE",dc="UNSUBSCRIBE",hc="UPDATED",vc="EXIT",gc="TERMINATE",yc="object"===("undefined"==typeof self?"undefined":u(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":u(global))&&global.global===global&&global||"object"===("undefined"==typeof window?"undefined":u(window))&&window.window===window&&window;yc.FCL_REGISTRY=null==yc.FCL_REGISTRY?{}:yc.FCL_REGISTRY;var mc,bc=0,wc=5e3,xc=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){var u=r.expectReply||!1,i=null!=r.timeout?r.timeout:wc;u&&i&&setTimeout((function(){return a(new Error("Timeout: ".concat(i,"ms passed without a response.")))}),i);var c={to:e,from:r.from,tag:t,data:n,timeout:i,reply:o,reject:a};try{yc.FCL_REGISTRY[e]&&yc.FCL_REGISTRY[e].mailbox.deliver(c),u||o(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",c,yc.FCL_REGISTRY[e],t)}}))},kc=function(e){delete yc.FCL_REGISTRY[e]},Ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=s(x.mark((function t(n){var r;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e[lc]){t.next=3;break}return t.next=3,e[lc](n);case 3:return t.next=6,n.receive();case 6:if(r=t.sent,t.prev=7,r.tag!==vc){t.next=13;break}if("function"!=typeof e[gc]){t.next=12;break}return t.next=12,e[gc](n,r,r.data||{});case 12:return t.abrupt("break",25);case 13:return t.next=15,e[r.tag](n,r,r.data||{});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),console.error("".concat(n.self()," Error"),r,t.t0);case 20:return t.prev=20,t.abrupt("continue",3);case 23:t.next=3;break;case 25:case"end":return t.stop()}}),t,null,[[7,17,20,23]])})));return function(e){return t.apply(this,arguments)}}()},Ic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++bc),null!=yc.FCL_REGISTRY[t])return t;yc.FCL_REGISTRY[t]={addr:t,mailbox:fc(),subs:new Set,kvs:{},error:null};var n={self:function(){return t},receive:function(){return yc.FCL_REGISTRY[t].mailbox.receive()},send:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.from=t,xc(e,n,r,o)},sendSelf:function(e,n,r){yc.FCL_REGISTRY[t]&&xc(t,e,n,r)},broadcast:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.from=t;var o,a=k(yc.FCL_REGISTRY[t].subs);try{for(a.s();!(o=a.n()).done;){var u=o.value;xc(u,e,n,r)}}catch(e){a.e(e)}finally{a.f()}},subscribe:function(e){return null!=e&&yc.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&yc.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return yc.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!yc.FCL_REGISTRY[t].subs.size},put:function(e,n){null!=e&&(yc.FCL_REGISTRY[t].kvs[e]=n)},get:function(e,n){var r=yc.FCL_REGISTRY[t].kvs[e];return null==r?n:r},delete:function(e){delete yc.FCL_REGISTRY[t].kvs[e]},update:function(e,n){null!=e&&(yc.FCL_REGISTRY[t].kvs[e]=n(yc.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(yc.FCL_REGISTRY[t].kvs)},all:function(){return yc.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(yc.FCL_REGISTRY[t].kvs).reduce((function(n,r){return e.test(r)?v(v({},n),{},d({},r,yc.FCL_REGISTRY[t].kvs[r])):n}),{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(n){return yc.FCL_REGISTRY[t].kvs[n]=e[n]}))},fatalError:function(e){yc.FCL_REGISTRY[t].error=e;var n,r=k(yc.FCL_REGISTRY[t].subs);try{for(r.s();!(n=r.n()).done;){var o=n.value;xc(o,hc)}}catch(e){r.e(e)}finally{r.f()}}};return"object"===u(e)&&(e=Ec(e)),sc(s(x.mark((function r(){return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:kc(t);case 3:case"end":return r.stop()}}),r)})))),t};var Sc="config",Rc="PUT_CONFIG",Ac="GET_CONFIG",Tc="GET_ALL_CONFIG",Cc="UPDATE_CONFIG",_c="DELETE_CONFIG",Oc="CLEAR_CONFIG",Pc="WHERE_CONFIG",Lc="CONFIG/UPDATED",Nc=function(e){return e},jc=(d(mc={},Rc,(function(e,t,n){var r=n.key,o=n.value;if(null==r)throw new Error("Missing 'key' for config/put.");e.put(r,o),e.broadcast(Lc,v({},e.all()))})),d(mc,Ac,(function(e,t,n){var r=n.key,o=n.fallback;if(null==r)throw new Error("Missing 'key' for config/get");t.reply(e.get(r,o))})),d(mc,Tc,(function(e,t){t.reply(v({},e.all()))})),d(mc,Cc,(function(e,t,n){var r=n.key,o=n.fn;if(null==r)throw new Error("Missing 'key' for config/update");e.update(r,o||Nc),e.broadcast(Lc,v({},e.all()))})),d(mc,_c,(function(e,t,n){var r=n.key;if(null==r)throw new Error("Missing 'key' for config/delete");e.delete(r),e.broadcast(Lc,v({},e.all()))})),d(mc,Oc,(function(e,t){for(var n=0,r=Object.keys(e.all());n<r.length;n++){var o=r[n];e.delete(o)}e.broadcast(Lc,v({},e.all()))})),d(mc,Pc,(function(e,t,n){var r=n.pattern;if(null==r)throw new Error("Missing 'pattern' for config/where");t.reply(e.where(r))})),d(mc,pc,(function(e,t){e.subscribe(t.from),e.send(t.from,Lc,v({},e.all()))})),d(mc,dc,(function(e,t){e.unsubscribe(t.from)})),mc);function Bc(e,t){return xc(Sc,Rc,{key:e,value:t}),Hc()}function Fc(e,t){return xc(Sc,Ac,{key:e,fallback:t},{expectReply:!0,timeout:10})}function Uc(){return Gc.apply(this,arguments)}function Gc(){return Gc=s(x.mark((function e(){var t,n,r,o,a,u,i=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1?i[1]:void 0,(t=i.length>0&&void 0!==i[0]?i[0]:[]).length){e.next=4;break}return e.abrupt("return",n);case 4:return r=l(t),o=r[0],a=r.slice(1),e.next=7,Fc(o);case 7:if(null!=(u=e.sent)){e.next=10;break}return e.abrupt("return",Uc(a,n));case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Dc(){return xc(Sc,Tc,null,{expectReply:!0,timeout:10})}function Mc(e){return xc(Sc,Cc,{key:e,fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nc}),Hc()}function zc(e){return xc(Sc,_c,{key:e}),Hc()}function Yc(e){return xc(Sc,Pc,{pattern:e},{expectReply:!0,timeout:10})}function qc(e){return function(e,t,n){t(e);var r="@EXIT",o=Ic(function(){var t=s(x.mark((function t(o){var a,u;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.send(e,pc);case 1:return t.next=4,o.receive();case 4:if(a=t.sent,u=yc.FCL_REGISTRY[e].error,a.tag!==r){t.next=9;break}return o.send(e,dc),t.abrupt("return");case 9:if(!u){t.next=13;break}return n(null,u),o.send(e,dc),t.abrupt("return");case 13:n(a.data,null),t.next=1;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return xc(o,r)}}(Sc,(function(){return Ic(jc,Sc)}),e)}function Kc(e){return xc(Sc,Oc).then(Hc(e))}function Hc(e){return null!=e&&"object"===u(e)&&Object.keys(e).map((function(t){return Bc(t,e[t])})),{put:Bc,get:Fc,all:Dc,first:Uc,update:Mc,delete:zc,where:Yc,subscribe:qc,overload:Vc}}Ic(jc,Sc),Hc.put=Bc,Hc.get=Fc,Hc.all=Dc,Hc.first=Uc,Hc.update=Mc,Hc.delete=zc,Hc.where=Yc,Hc.subscribe=qc,Hc.overload=Vc;var Wc=function(e){return e};function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wc;return new Promise(function(){var n=s(x.mark((function n(r,o){var a,u;return x.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dc();case 2:return a=n.sent,n.prev=3,Hc(e),n.t0=t,n.next=8,Dc();case 8:return n.t1=n.sent,n.next=11,(0,n.t0)(n.t1);case 11:return u=n.sent,n.next=14,Kc(a);case 14:r(u),n.next=22;break;case 17:return n.prev=17,n.t2=n.catch(3),n.next=21,Kc(a);case 21:o(n.t2);case 22:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e,t){return n.apply(this,arguments)}}())}var Jc=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),Xc=function(e){var t=e.title,n=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(n,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},$c=function(){var e=s(x.mark((function e(t){var n,r,o,a,u,i,c,s,f,l,p,d;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,c=t.message,s=t.level,f=t.always,l=void 0!==f&&f,e.next=3,Hc.get("logger.level",Jc.warn);case 3:if(p=e.sent,l||!(p<s)){e.next=6;break}return e.abrupt("return");case 6:d=Xc({title:i,message:c}),e.t0=s,e.next=e.t0===Jc.debug?10:e.t0===Jc.info?12:e.t0===Jc.warn?14:e.t0===Jc.error?16:18;break;case 10:return(n=console).debug.apply(n,M(d)),e.abrupt("break",19);case 12:return(r=console).info.apply(r,M(d)),e.abrupt("break",19);case 14:return(o=console).warn.apply(o,M(d)),e.abrupt("break",19);case 16:return(a=console).error.apply(a,M(d)),e.abrupt("break",19);case 18:(u=console).log.apply(u,M(d));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();$c.deprecate=function(e){var t=e.pkg,n=e.subject,r=e.transition,o=e.level,a=void 0===o?Jc.warn:o,u=e.message,i=void 0===u?"":u,c=e.callback,f=void 0===c?null:c,l=function(){return $c({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(n?"".concat((e=n,e.charAt(0).toUpperCase()+e.slice(1))," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(i?"\n"+i:"").concat(r?"\nYou can learn more (including a guide on common transition paths) here: ".concat(r):"","\n    ").trim(),level:a});var e};return"function"==typeof f?s(x.mark((function e(){var t=arguments;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,f.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))):l()};var Zc=function(e,t,n){return{label:e,asArgument:t,asInjection:n}},Qc=function(e){return Array.isArray(e)},es=function(e){return"object"===u(e)},ts=function(e){return null==e},ns=function(e){return"number"==typeof e},rs=function(e){return Number.isInteger(e)},os=function(e){return"string"==typeof e},as=function(e){throw new Error("Type Error: "+e)},us=function(e){$c.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(e),message:"Going forward, use String as value for ".concat(e,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},is=Zc("Identity",(function(e){return e}),(function(e){return e})),cs=Zc("UInt",(function(e){return ns(e)&&rs(e)?(us("UInt"),{type:"UInt",value:e.toString()}):os(e)?{type:"UInt",value:e}:void as("Expected Positive Integer for type Unsigned Int")}),(function(e){return e})),ss=Zc("Int",(function(e){return ns(e)&&rs(e)?(us("Int"),{type:"Int",value:e.toString()}):os(e)?{type:"Int",value:e}:void as("Expected Integer for type Int")}),(function(e){return e})),fs=Zc("UInt8",(function(e){return ns(e)&&rs(e)?(us("UInt8"),{type:"UInt8",value:e.toString()}):os(e)?{type:"UInt8",value:e}:void as("Expected integer for UInt8")}),(function(e){return e})),ls=Zc("Int8",(function(e){return ns(e)&&rs(e)?(us("Int8"),{type:"Int8",value:e.toString()}):os(e)?{type:"Int8",value:e}:void as("Expected positive integer for Int8")}),(function(e){return e})),ps=Zc("UInt16",(function(e){return ns(e)&&rs(e)?(us("UInt16"),{type:"UInt16",value:e.toString()}):os(e)?{type:"UInt16",value:e}:void as("Expected integer for UInt16")}),(function(e){return e})),ds=Zc("Int16",(function(e){return ns(e)&&rs(e)?(us("Int16"),{type:"Int16",value:e.toString()}):os(e)?{type:"Int16",value:e}:void as("Expected positive integer for Int16")}),(function(e){return e})),hs=Zc("UInt32",(function(e){return ns(e)&&rs(e)?(us("UInt32"),{type:"UInt32",value:e.toString()}):os(e)?{type:"UInt32",value:e}:void as("Expected integer for UInt32")}),(function(e){return e})),vs=Zc("Int32",(function(e){return ns(e)&&rs(e)?(us("Int32"),{type:"Int32",value:e.toString()}):os(e)?{type:"Int32",value:e}:void as("Expected positive integer for Int32")}),(function(e){return e})),gs=Zc("UInt64",(function(e){return ns(e)&&rs(e)?(us("UInt64"),{type:"UInt64",value:e.toString()}):os(e)?{type:"UInt64",value:e}:void as("Expected integer for UInt64")}),(function(e){return e})),ys=Zc("Int64",(function(e){return ns(e)&&rs(e)?(us("Int64"),{type:"Int64",value:e.toString()}):os(e)?{type:"Int64",value:e}:void as("Expected positive integer for Int64")}),(function(e){return e})),ms=Zc("UInt128",(function(e){return ns(e)&&rs(e)?(us("UInt128"),{type:"UInt128",value:e.toString()}):os(e)?{type:"UInt128",value:e}:void as("Expected integer for UInt128")}),(function(e){return e})),bs=Zc("Int128",(function(e){return ns(e)&&rs(e)?(us("Int128"),{type:"Int128",value:e.toString()}):os(e)?{type:"Int128",value:e}:void as("Expected positive integer for Int128")}),(function(e){return e})),ws=Zc("UInt256",(function(e){return ns(e)&&rs(e)?(us("UInt256"),{type:"UInt256",value:e.toString()}):os(e)?{type:"UInt256",value:e}:void as("Expected integer for UInt256")}),(function(e){return e})),xs=Zc("Int256",(function(e){return ns(e)&&rs(e)?(us("Int256"),{type:"Int256",value:e.toString()}):os(e)?{type:"Int256",value:e}:void as("Expected integer for Int256")}),(function(e){return e})),ks=Zc("Word8",(function(e){return ns(e)&&rs(e)?(us("Word8"),{type:"Word8",value:e.toString()}):os(e)?{type:"Word8",value:e}:void as("Expected positive number for Word8")}),(function(e){return e})),Es=Zc("Word16",(function(e){return ns(e)&&rs(e)?(us("Word16"),{type:"Word16",value:e.toString()}):os(e)?{type:"Word16",value:e}:void as("Expected positive number for Word16")}),(function(e){return e})),Is=Zc("Word32",(function(e){return ns(e)&&rs(e)?(us("Word32"),{type:"Word32",value:e.toString()}):os(e)?{type:"Word32",value:e}:void as("Expected positive number for Word32")}),(function(e){return e})),Ss=Zc("Word64",(function(e){return ns(e)&&rs(e)?(us("Word64"),{type:"Word64",value:e.toString()}):os(e)?{type:"Word64",value:e}:void as("Expected positive number for Word64")}),(function(e){return e})),Rs=function(){$c.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},As=Zc("UFix64",(function(e){if(os(e)){var t=e.split(".");return 2!==t.length&&as("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&as("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"UFix64",value:e=t.join(".")}}if(ns(e))return Rs(),{type:"UFix64",value:e.toString()};as("Expected String for UFix64")}),(function(e){return e})),Ts=Zc("Fix64",(function(e){if(os(e)){var t=e.split(".");return 2!==t.length&&as("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&as("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"Fix64",value:e=t.join(".")}}if(ns(e))return Rs(),{type:"Fix64",value:e.toString()};as("Expected String for Fix64")}),(function(e){return e})),Cs=Zc("String",(function(e){if(os(e))return{type:"String",value:e};as("Expected String for type String")}),(function(e){return e})),_s=Zc("Character",(function(e){if(os(e))return{type:"Character",value:e};as("Expected Character for type Character")}),(function(e){return e})),Os=Zc("Bool",(function(e){if("boolean"==typeof e)return{type:"Bool",value:e};as("Expected Boolean for type Bool")}),(function(e){return e})),Ps=Zc("Address",(function(e){if(os(e))return{type:"Address",value:e};as("Expected Address for type Address")}),(function(e){return e})),Ls=Zc("Void",(function(e){if(!e||ts(e))return{type:"Void"};as("Expected Void for type Void")}),(function(e){return e})),Ns=Zc("Reference",(function(e){if(es(e))return{type:"Reference",value:e};as("Expected Object for type Reference")}),(function(e){return e})),js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zc("Array",(function(t){return{type:"Array",value:Qc(e)?e.map((function(e,n){return e.asArgument(t[n])})):t.map((function(t){return e.asArgument(t)}))}}),(function(e){return e}))},Bs=Zc("Path",(function(e){if(es(e))return os(e.domain)||as("Expected a string for the Path domain but found ".concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"!==e.domain&&"private"!==e.domain&&"public"!==e.domain&&as('Expected either "storage", "private" or "public" as the Path domain but found '.concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),os(e.identifier)||as("Expected a string for the Path identifier but found ".concat(e.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:e.domain,identifier:e.identifier}};as("Expected Object for type Path")}),(function(e){return e})),Fs=Object.freeze({__proto__:null,Address:Ps,Array:js,Bool:Os,Character:_s,Dictionary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zc("Dictionary",(function(t){if(es(t))return{type:"Dictionary",value:Qc(e)?e.map((function(e,n){return{key:e.key.asArgument(t[n].key),value:e.value.asArgument(t[n].value)}})):Qc(t)?t.map((function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}})):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};as("Expected Object for type Dictionary")}),(function(e){return e}))},Enum:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Zc("Enum",(function(n){if(es(n))return{type:"Enum",value:{id:e,fields:Qc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};as("Expected Object for type Enum")}),(function(e){return e}))},Event:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Zc("Event",(function(n){if(es(n))return{type:"Event",value:{id:e,fields:Qc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};as("Expected Object for type Event")}),(function(e){return e}))},Fix64:Ts,Identity:is,Int:ss,Int128:bs,Int16:ds,Int256:xs,Int32:vs,Int64:ys,Int8:ls,Optional:function(e){return Zc("Optional",(function(t){return{type:"Optional",value:ts(t)?null:e.asArgument(t)}}),(function(e){return e}))},Path:Bs,Reference:Ns,Resource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Zc("Resource",(function(n){if(es(n))return{type:"Resource",value:{id:e,fields:Qc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};as("Expected Object for type Resource")}),(function(e){return e}))},String:Cs,Struct:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Zc("Struct",(function(n){if(es(n))return{type:"Struct",value:{id:e,fields:Qc(t)?t.map((function(e,t){return{name:n.fields[t].name,value:e.value.asArgument(n.fields[t].value)}})):n.fields.map((function(e){return{name:e.name,value:t.value.asArgument(e.value)}}))}};as("Expected Object for type Struct")}),(function(e){return e}))},UFix64:As,UInt:cs,UInt128:ms,UInt16:ps,UInt256:ws,UInt32:hs,UInt64:gs,UInt8:fs,Void:Ls,Word16:Es,Word32:Is,Word64:Ss,Word8:ks,_Array:js});function Us(e){return ic(e)?e(Ai,Fs):[]}function Gs(e){return Ds.apply(this,arguments)}function Ds(){return(Ds=s(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ht(void 0!==(n=t.url),"retrieve({ url }) -- url must be defined"),e.prev=2,e.next=5,zt(n);case 5:r=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!r.ok){e.next=17;break}return e.next=14,r.json();case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=null;case 18:return o=e.t1,e.abrupt("return",o);case 20:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var Ms=new Map([["http",Gs],["https",Gs]]);function zs(e){return Ys.apply(this,arguments)}function Ys(){return(Ys=s(i().mark((function e(t){var n,r,o,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ht(void 0!==(n=t.url),"retrieve({ url }) -- url must be defined"),ht("string"==typeof n,"retrieve({ url }) -- url must be a string"),e.next=5,ct().where(/^document\.resolver\./);case 5:return r=e.sent,Object.keys(r).map((function(e){var t=r[e],n=e.replace(/^document\.resolver\./,"");Ms.set(n,t)})),ht(o=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(n),"Failed to parse URL"),a=o[1],ht(o,"Failed to parse URL protocol"),ht(u=Ms.get(a),"No resolver found for protcol=".concat(a)),e.next=15,u({url:n});case 15:return c=e.sent,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e){if(null==e)return null;if("1.0.0"===e.f_version)return e;throw new Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function Ks(e){var t,n,r=e.network,o=e.template;if(pi(null!=r,"deriveCadenceByNetwork({ network }) -- network must be defined"),pi("string"==typeof r,"deriveCadenceByNetwork({ network }) -- network must be a string"),pi(null!=o,"generateDependencyPin({ template }) -- template must be defined"),pi("object"===u(o),"generateDependencyPin({ template }) -- template must be an object"),pi("InteractionTemplate"===o.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),"1.0.0"===(o=qs(o)).f_version)return Object.keys(null===(t=o)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.dependencies).map((function(e){var t,n,a,u=Object.values(null===(t=o)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.dependencies)||void 0===a?void 0:a[e]);pi(u,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e)),pi(0===u.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e));var i=u[0],c=null==i?void 0:i[r];return pi(c,"deriveCadenceByNetwork -- Could not find ".concat(r," network information for dependency: ").concat(e)),[e,c.address]})).reduce((function(e,t){var n=a(t,2),r=n[0],o=n[1],u=new RegExp("(\\b"+r+"\\b)","g");return e.replace(u,o)}),o.data.cadence);throw new Error("deriveCadenceByNetwork Error: Unsupported template version")}function Hs(){return"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPad/.test(navigator.userAgent)}function Ws(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)||Hs()}function Vs(e){return Js.apply(this,arguments)}function Js(){return Js=s(i().mark((function e(t){var n,r,o,a,u,c,s,f,l,p,d,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.template,e.next=3,Vi();case 3:ht(o=e.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),a={},e.t0=r.f_version,e.next="1.0.0"===e.t0?9:12;break;case 9:for(u=Object.keys(null==r||null===(n=r.data)||void 0===n?void 0:n.dependencies),c=0,s=u;c<s.length;c++)l=s[c],p=null==r||null===(f=r.data)||void 0===f?void 0:f.dependencies[l],ht((d=Object.keys(p)).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(l)),h=p[d[0]],ht(v=h[o],"FCL configureDependencies Error: No dependency information for placeholder=".concat(l," contract=").concat(d[0]," network=").concat(o)),ht(null==v?void 0:v.address,"FCL configureDependencies Error: No address information for placeholder=".concat(l," contract=").concat(d[0]," network=").concat(o)),a[l]=qt(null==v?void 0:v.address);return e.abrupt("return",a);case 12:throw new Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Xs(e){return $s.apply(this,arguments)}function $s(){return($s=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uc(null==t?void 0:t.template)){e.next=4;break}return e.next=3,zs({url:null==t?void 0:t.template});case 3:t.template=e.sent;case 4:if(n={},null==t||!t.template){e.next=10;break}return t.template=qs(null==t?void 0:t.template),e.next=9,Vs({template:t.template});case 9:n=e.sent;case 10:if(e.t0=t.cadence,e.t0){e.next=19;break}return e.t1=Ks,e.t2=t.template,e.next=16,Vi();case 16:e.t3=e.sent,e.t4={template:e.t2,network:e.t3},e.t0=(0,e.t1)(e.t4);case 19:return r=e.t0,t.cadence=r,t.dependencies=n,e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht(oc(n),"".concat(t,"(opts) -- opts is required")),ht(ac(n),"".concat(t,"(opts) -- opts must be an object")),ht(!(n.cadence&&n.template),"".concat(t,"({ template, cadence }) -- cannot pass both cadence and template")),ht(oc(n.cadence||(null==n?void 0:n.template)),"".concat(t,"({ cadence }) -- cadence is required")),ht(uc(n.cadence)||(null==n?void 0:n.template),"".concat(t,"({ cadence }) -- cadence must be a string")),e.t0=ht,e.t1=n.cadence,e.t1){e.next=11;break}return e.next=10,ct().get("flow.network");case 10:e.t1=e.sent;case 11:return e.t2=e.t1,e.t3="".concat(t,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t0)(e.t2,e.t3),e.t4=ht,e.next=17,ct().get("accessNode.api");case 17:e.t5=e.sent,e.t6="".concat(t,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t4)(e.t5,e.t6);case 20:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function ef(e){return tf.apply(this,arguments)}function tf(){return(tf=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs("mutate",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e){return rf.apply(this,arguments)}function rf(){return(rf=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zs("query",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function of(){return af.apply(this,arguments)}function af(){return af=s(i().mark((function e(){var t,n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,nf(t);case 3:return e.next=5,Xs(t);case 5:return t=e.sent,e.abrupt("return",ct().overload(t.dependencies||{},s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di([Li(t.cadence),Ri(Us(t.args||[])),t.limit&&"number"==typeof t.limit&&Si(t.limit)]).then(hi));case 1:case"end":return e.stop()}}),e)})))));case 7:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}var uf={f_type:"Service",f_vsn:"1.0.0"},cf={f_type:"PollingResponse",f_vsn:"1.0.0"},sf={f_type:"CompositeSignature",f_vsn:"1.0.0"};function ff(e){return null==e?null:"1.0.0"===e.f_vsn?e:v(v({old:e},uf),{},{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}function lf(e){return null==e?null:(null==e.method&&(e=v(v({},e),{},{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===e.f_vsn?e:v(v({},uf),{},{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}}))}function pf(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(t){return t.type===e}))}function df(e){var t=new URL(e.endpoint);if(t.searchParams.append("l6n",window.location.origin),null!=e.params)for(var n=0,r=Object.entries(e.params||{});n<r.length;n++){var o=a(r[n],2),u=o[0],i=o[1];t.searchParams.append(u,i)}return t}function hf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method||"POST",r="GET"===n?void 0:JSON.stringify(t.data||e.data||{});return fetch(df(e),{method:n,headers:v(v(v({},e.headers||{}),t.headers||{}),{},{"Content-Type":"application/json"}),body:r}).then((function(e){return e.json()}))}function vf(e){var t,n,r;return null==e?null:"1.0.0"===e.f_vsn?e:v(v({},cf),{},{status:null!==(t=e.status)&&void 0!==t?t:"APPROVED",reason:null!==(n=e.reason)&&void 0!==n?n:null,data:e.compositeSignature||e.data||v({},e)||{},updates:(r=e.authorizationUpdates,null==r?null:"1.0.0"===r.f_vsn?r:v(v({},uf),{},{type:"back-channel-rpc",endpoint:r.endpoint,method:r.method,params:r.params||{},data:r.data||{}})),local:ff((e.local||[])[0])})}var gf={"HTTP/GET":"GET","HTTP/POST":"POST"},yf=function(e){return ht(gf[e.method],"Invalid Service Method for type back-channel-rpc",{service:e}),gf[e.method]};function mf(e){return bf.apply(this,arguments)}function bf(){return bf=s(i().mark((function e(t){var n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:function(){return!0},ht(t,"Missing Polling Service",{service:t}),n()){e.next=4;break}throw new Error("Externally Halted");case 4:return e.next=6,hf(t,{method:yf(t)}).then(vf);case 6:r=e.sent,e.t0=r.status,e.next="APPROVED"===e.t0?10:"DECLINED"===e.t0?11:12;break;case 10:return e.abrupt("return",r.data);case 11:throw new Error("Declined: ".concat(r.reason||"No reason supplied."));case 12:return e.next=14,new Promise((function(e){return setTimeout(e,500)}));case 14:return e.abrupt("return",mf(r.updates,n));case 15:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}var wf="FCL_IFRAME",xf="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n";function kf(e){ht(!document.getElementById(wf),"Attempt at triggering multiple Frames",{src:e});var t=document.createElement("iframe");t.src=e,t.id=wf,t.allow="usb *; hid *",t.frameBorder="0",t.style.cssText=xf,document.body.append(t);return[t.contentWindow,function(){document.getElementById(wf)&&document.getElementById(wf).remove()}]}var Ef="FCL_POP",If=null,Sf=null;function Rf(e){var t;null==If||null!==(t=If)&&void 0!==t&&t.closed?If=function(e,t,n,r,o){var a=n.top.outerHeight/2+n.top.screenY-o/2,u=n.top.outerWidth/2+n.top.screenX-r/2,i=n.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(r,", height=").concat(o,", top=").concat(a,", left=").concat(u));if(!i)throw new Error("Popup failed to open (was it blocked by a popup blocker?)");return i}(e,Ef,window,640,770):Sf!==e?(If.location.replace(e),If.focus()):If.focus(),Sf=e;return[If,function(){If&&!If.closed&&If.close(),If=null}]}var Af=null,Tf=null;function Cf(e){var t;if(null==Af||null!==(t=Af)&&void 0!==t&&t.closed){if(!(Af=window.open(e,"_blank")))throw new Error("Tab failed to open (was it blocked by the browser?)")}else Tf!==e?(Af.location.replace(e),Af.focus()):Af.focus();Tf=e;return[Af,function(){Af&&!Af.closed&&Af.close(),Af=null}]}var _f={"VIEW/IFRAME":kf,"VIEW/POP":Rf,"VIEW/TAB":Cf};function Of(e){return Pf.apply(this,arguments)}function Pf(){return Pf=s(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.prev=1,e.abrupt("return",_f[t.method](df(t),n));case 5:throw e.prev=5,e.t0=e.catch(1),console.error("execLocal({service, opts = {}})",e.t0,{service:t,opts:n}),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,5]])}))),Pf.apply(this,arguments)}function Lf(e){return Nf.apply(this,arguments)}function Nf(){return Nf=s(i().mark((function e(t){var n,r,o,u,c,s,f,l,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.service,r=t.body,o=t.config,t.opts,e.next=3,hf(n,{data:v({fclVersion:nc,service:{params:n.params,data:n.data,type:n.type},config:o},r)}).then(vf);case 3:if("APPROVED"!==(u=e.sent).status){e.next=8;break}return e.abrupt("return",u.data);case 8:if("DECLINED"!==u.status){e.next=12;break}throw new Error("Declined: ".concat(u.reason||"No reason supplied."));case 12:if("REDIRECT"!==u.status){e.next=16;break}return e.abrupt("return",u);case 16:if("PENDING"!==u.status){e.next=28;break}return c=!0,e.next=20,Of(lf(u.local));case 20:return s=e.sent,(f=a(s,2))[0],l=f[1],p=function(){try{l(),c=!1}catch(e){console.error("Frame Close Error",e)}},e.abrupt("return",mf(u.updates,(function(){return c})).then((function(e){return p(),e})).catch((function(e){throw console.error(e),p(),e})));case 28:throw console.error("Auto Decline: Invalid Response",{service:n,resp:u}),new Error("Auto Decline: Invalid Response");case 30:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}var jf="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Bf=jf.length;function Ff(){for(var e="",t=32;t--;)e+=jf[Math.random()*Bf|0];return e}var Uf="FCL:VIEW:CLOSE",Gf="FCL:VIEW:READY",Df="FCL:VIEW:RESPONSE",Mf=function(e){return"string"==typeof e&&e.toLowerCase()},zf=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),Yf=function(e,t){return console.warn("DEPRECATION NOTICE","Received ".concat(e,", please use ").concat(t," for this and future versions of FCL"))},qf=function(e){var t=e.close,n=e.send,r=e.onReady,o=e.onResponse,a=e.onMessage;return function(e){try{if("object"!==u(e.data))return;if(zf.has(e.data.type))return;Mf(e.data.type)===Mf(Uf)&&t(),Mf(e.data.type)===Mf(Gf)&&r(e,{send:n,close:t}),Mf(e.data.type)===Mf(Df)&&o(e,{send:n,close:t}),a(e,{send:n,close:t}),Mf(e.data.type)===Mf("FCL:FRAME:READY")&&(Yf(e.data.type,Gf),r(e,{send:n,close:t})),Mf(e.data.type)===Mf("FCL:FRAME:RESPONSE")&&(Yf(e.data.type,Df),o(e,{send:n,close:t})),Mf(e.data.type)===Mf("FCL:FRAME:CLOSE")&&(Yf(e.data.type,Uf),t()),Mf(e.data.type)===Mf("FCL::CHALLENGE::RESPONSE")&&(Yf(e.data.type,Df),o(e,{send:n,close:t})),Mf(e.data.type)===Mf("FCL::AUTHZ_READY")&&(Yf(e.data.type,Gf),r(e,{send:n,close:t})),Mf(e.data.type)===Mf("FCL::CHALLENGE::CANCEL")&&(Yf(e.data.type,Uf),t()),Mf(e.data.type)===Mf("FCL::CANCEL")&&(Yf(e.data.type,Uf),t())}catch(e){console.error("Frame Callback Error",e),t()}}},Kf=function(){};var Hf=function(){};var Wf=function(){};var Vf=function(){};var Jf,Xf,$f,Zf,Qf={"HTTP/RPC":Lf,"HTTP/POST":Lf,"IFRAME/RPC":function(e){var t=e.service,n=e.body,r=e.config,o=e.opts;return new Promise((function(e,c){var f=Ff(),l=o.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Kf,close:Kf};var n=t.onClose||Kf,r=t.onMessage||Kf,o=t.onReady||Kf,u=t.onResponse||Kf,i=qf({close:l,send:p,onReady:o,onResponse:u,onMessage:r});window.addEventListener("message",i);var c=a(kf(df(e)),2),s=c[0],f=c[1];return{send:p,close:l};function l(){try{window.removeEventListener("message",i),f(),n()}catch(e){console.error("Frame Close Error",e)}}function p(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Frame Send Error",e,t)}}}(t,{onReady:function(e,o){return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.send,e.prev=1,a({type:"FCL:VIEW:READY:RESPONSE",fclVersion:nc,body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),a({fclVersion:nc,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),l&&a({jsonrpc:"2.0",id:f,method:"fcl:sign",params:[n,t.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;var o=vf(t.data);switch(o.status){case"APPROVED":e(o.data),r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execIframeRPC onResponse error",e),e}},onMessage:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==f)return;var o=vf(t.data.result);switch(o.status){case"APPROVED":e(o.data),r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execIframeRPC onMessage error",e),e}},onClose:function(){c("Declined: Externally Halted")}})}))},"POP/RPC":function(e){var t=e.service,n=e.body,r=e.config,o=e.opts;return new Promise((function(e,c){var f=Ff(),l=o.redir,p=o.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Hf,close:Hf};var n=t.onClose||Hf,r=t.onMessage||Hf,o=t.onReady||Hf,u=t.onResponse||Hf,i=qf({close:p,send:d,onReady:o,onResponse:u,onMessage:r});window.addEventListener("message",i);var c=a(Rf(df(e)),2),s=c[0],f=c[1],l=setInterval((function(){s&&s.closed&&p()}),500);return{send:d,close:p};function p(){try{window.removeEventListener("message",i),clearInterval(l),f(),n()}catch(e){console.error("Popup Close Error",e)}}function d(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Popup Send Error",e,t)}}}(t,{onReady:function(e,o){return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.send,e.prev=1,a({fclVersion:nc,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),a({fclVersion:nc,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),p&&a({jsonrpc:"2.0",id:f,method:"fcl:sign",params:[n,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;var o=vf(t.data);switch(o.status){case"APPROVED":e(o.data),!l&&r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==f)return;var o=vf(t.data.result);switch(o.status){case"APPROVED":e(o.data),!l&&r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){c("Declined: Externally Halted")}})}))},"TAB/RPC":function(e){var t=e.service,n=e.body,r=e.config,o=e.opts;return new Promise((function(e,c){var f=Ff(),l=o.redir,p=o.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Wf,close:Wf};var n=t.onClose||Wf,r=t.onMessage||Wf,o=t.onReady||Wf,u=t.onResponse||Wf,i=qf({close:p,send:d,onReady:o,onResponse:u,onMessage:r});window.addEventListener("message",i);var c=a(Cf(df(e)),2),s=c[0],f=c[1],l=setInterval((function(){s&&s.closed&&p()}),500);return{send:d,close:p};function p(){try{window.removeEventListener("message",i),clearInterval(l),f(),n()}catch(e){console.error("Tab Close Error",e)}}function d(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Tab Send Error",e,t)}}}(t,{onReady:function(e,o){return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.send,e.prev=1,a({fclVersion:nc,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),a({fclVersion:nc,type:"FCL:FRAME:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),p&&a({jsonrpc:"2.0",id:f,method:"fcl:sign",params:[n,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;var o=vf(t.data);switch(o.status){case"APPROVED":e(o.data),!l&&r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;if("2.0"!==t.data.jsonrpc)return;if(t.data.id!==f)return;var o=vf(t.data.result);switch(o.status){case"APPROVED":e(o.data),!l&&r();break;case"DECLINED":c("Declined: ".concat(o.reason||"No reason supplied")),r();break;case"REDIRECT":e(o),r();break;default:c("Declined: No reason supplied"),r()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){c("Declined: Externally Halted")}})}))},"EXT/RPC":function(e){var t=e.service,n=e.body,r=e.config;return e.opts,new Promise((function(e,o){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)return{send:Vf,close:Vf};var n=t.onClose||Vf,r=t.onMessage||Vf,o=t.onReady||Vf,a=t.onResponse||Vf,u=qf({close:i,send:c,onReady:o,onResponse:a,onMessage:r});return window.addEventListener("message",u),c({service:e}),{send:c,close:i};function i(){try{window.removeEventListener("message",u),n()}catch(e){console.error("Ext Close Error",e)}}function c(e){try{window&&window.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Ext Send Error",e,t)}}}(t,{onReady:function(e,o){return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.send,e.prev=1,a({fclVersion:nc,type:"FCL:VIEW:READY:RESPONSE",body:n,service:{params:t.params,data:t.data,type:t.type},config:r}),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})))()},onResponse:function(t,n){var r=n.close;try{if("object"!==u(t.data))return;var a=vf(t.data);switch(a.status){case"APPROVED":e(a.data),r();break;case"DECLINED":o("Declined: ".concat(a.reason||"No reason supplied")),r();break;case"REDIRECT":e(a),r();break;default:o("Declined: No reason supplied"),r()}}catch(e){throw console.error("execExtRPC onResponse error",e),e}},onClose:function(){o("Declined: Externally Halted")}})}))}},el=["ServicePlugin"],tl=["discovery-service"],nl=(Jf=new Set,Xf=new Map(Object.entries(Qf)),$f=function(e){return Jf=new Set(M(e))},Object.freeze({add:function(e){if(ht(tl.includes(e.type),"Service Plugin type ".concat(e.type," is not supported")),"discovery-service"===e.type){var t=function(e){var t=e.services,n=e.serviceStrategy;ht(Array.isArray(t)&&t.length,"Array of Discovery Services is required");var r,o=k(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;ht(oc(a.f_type)&&"Service"===a.f_type,"Service is required"),ht(oc(a.type)&&"authn"===a.type,"Service must be type authn. Received ".concat(a.type)),ht(a.method in Qf||n.method===a.method,"Service method ".concat(a.method," is not supported"))}}catch(e){o.e(e)}finally{o.f()}return ht(oc(n),"Service strategy is required"),ht(oc(n.method)&&uc(n.method),"Service strategy method is required"),ht(oc(n.exec)&&ic(n.exec),"Service strategy exec function is required"),{discoveryServices:t,serviceStrategy:n}}(e),n=t.discoveryServices,r=t.serviceStrategy;$f(n),Xf.has(r.method)?dt({title:"Add Service Plugin",message:"Service strategy for ".concat(r.method," already exists"),level:lt.warn}):Xf.set(r.method,r.exec)}},getServices:function(){return M(Jf)},getStrategy:function(e){return Xf.get(e)},getStrategies:function(){return M(Xf.keys())}})),rl=(Zf=new Map,Object.freeze({add:function(e){var t,n=function(e){var t;ht(e,"No plugins supplied");var n,r=k(t=Array.isArray(e)?M(e):[e]);try{for(r.s();!(n=r.n()).done;){var o=n.value;ht(oc(o.name),"Plugin name is required"),ht(oc(o.f_type),"Plugin f_type is required"),ht(el.includes(o.f_type),"Plugin type ".concat(o.f_type," is not supported"))}}catch(e){r.e(e)}finally{r.f()}return t}(e),r=k(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;Zf.set(o.name,o),"ServicePlugin"===o.f_type&&nl.add(o)}}catch(e){r.e(e)}finally{r.f()}},getPlugins:function(){return Zf}})),ol=function(){var e=s(i().mark((function e(t){var n,r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.service,r=t.body,o=t.config,a=t.opts,u=nl.getStrategy(n.method),console.log("strategy data: ",{service:n,body:r,config:o,opts:a}),e.abrupt("return",u({service:n,body:r,config:o,opts:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function al(e){return ul.apply(this,arguments)}function ul(){return ul=s(i().mark((function e(t){var n,r,o,a,u,c,s,f,l,p,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.service,u=t.msg,c=void 0===u?{}:u,s=t.config,f=void 0===s?{}:s,l=t.opts,p=void 0===l?{}:l,c.data=a.data,e.next=4,Qi(/^service\./);case 4:return e.t0=e.sent,e.next=7,Qi(/^app\.detail\./);case 7:return e.t1=e.sent,e.t2=v,e.t3=v({},f.client),e.t4={},e.t5=nc,e.t6=null!==(n=null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.hostname)&&void 0!==n?n:null,e.next=15,Vi();case 15:return e.t7=e.sent,e.t8={fclVersion:e.t5,fclLibrary:"https://github.com/onflow/fcl-js",hostname:e.t6,network:e.t7},e.t9=(0,e.t2)(e.t3,e.t4,e.t8),d={services:e.t0,app:e.t1,client:e.t9},e.abrupt("return",{service:a,body:c,config:d,opts:p});case 20:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function il(e){return cl.apply(this,arguments)}function cl(){return cl=s(i().mark((function e(t){var n,r,o,a,u,c,s,f,l,p,d,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.service,u=t.msg,c=void 0===u?{}:u,s=t.config,f=void 0===s?{}:s,l=t.opts,p=void 0===l?{}:l,c.data=a.data,e.next=4,Qi(/^service\./);case 4:return e.t0=e.sent,e.next=7,Qi(/^app\.detail\./);case 7:return e.t1=e.sent,e.t2=v,e.t3=v({},f.client),e.t4={},e.t5=nc,e.t6=null!==(n=null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.hostname)&&void 0!==n?n:null,e.next=15,Vi();case 15:return e.t7=e.sent,e.t8={fclVersion:e.t5,fclLibrary:"https://github.com/onflow/fcl-js",hostname:e.t6,network:e.t7},e.t9=(0,e.t2)(e.t3,e.t4,e.t8),d={services:e.t0,app:e.t1,client:e.t9},e.prev=19,e.next=22,ol({service:a,body:c,config:d,opts:p});case 22:if("REDIRECT"!==(h=e.sent).status){e.next=30;break}return ht(a.type===h.data.type,"Cannot shift recursive service type in execService"),e.next=27,il({service:h.data,msg:c,config:d,opts:p});case 27:return e.abrupt("return",e.sent);case 30:return e.abrupt("return",h);case 31:e.next=37;break;case 33:throw e.prev=33,e.t10=e.catch(19),dt({title:"Error on execService ".concat(null==a?void 0:a.type),message:e.t10,level:lt.error}),e.t10;case 37:case"end":return e.stop()}}),e,null,[[19,33]])}))),cl.apply(this,arguments)}function sl(e){return null==e?null:"1.0.0"===e.f_vsn?e:v(v({},sf),{},{addr:Yt(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}var fl,ll=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===(t=window)||void 0===t?void 0:t.fcl_extensions)||[],e.abrupt("return",[].concat(M(n),M(nl.getServices())));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function pl(e){return dl.apply(this,arguments)}function dl(){return(dl=s(i().mark((function e(t){var n,r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.get("discovery.authn.include",[]);case 2:return r=e.sent,e.next=5,ct.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(o=e.sent,a=null!=t&&t.method?t.method:o,null===(n=null==t?void 0:t.endpoint)||void 0===n){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,ct.first(["discovery.wallet","challenge.handshake"]);case 13:e.t0=e.sent;case 14:return ht(u=e.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),e.abrupt("return",v(v({},t),{},{type:"authn",endpoint:u,method:a,discoveryAuthnInclude:r}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e){return vl.apply(this,arguments)}function vl(){return vl=s(i().mark((function e(t){var n,r,o,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.types,e.next=3,ct.get("discovery.authn.endpoint");case 3:return a=e.sent,ht(Boolean(a),'"discovery.authn.endpoint" in config must be defined.'),e.next=7,ct.get("discovery.authn.include",[]);case 7:return u=e.sent,c=new URL(a),e.t0=fetch,e.t1=c,e.t2={"Content-Type":"application/json"},e.t3=JSON,e.t4=o,e.t5=nc,e.t6=u,e.next=18,ll();case 18:return e.t7=e.sent,e.t8=nl.getStrategies(),e.t9=null===(n=window)||void 0===n||null===(r=n.navigator)||void 0===r?void 0:r.userAgent,e.next=23,Vi();case 23:return e.t10=e.sent,e.t11={type:e.t4,fclVersion:e.t5,include:e.t6,clientServices:e.t7,supportedStrategies:e.t8,userAgent:e.t9,network:e.t10},e.t12=e.t3.stringify.call(e.t3,e.t11),e.t13={method:"POST",headers:e.t2,body:e.t12},e.abrupt("return",(0,e.t0)(e.t1,e.t13).then((function(e){return e.json()})));case 28:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var gl,yl,ml,bl,wl,xl="authn",kl="SNAPSHOT",El="UPDATED",Il="UPDATE_RESULTS",Sl=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hl({types:[xl]});case 3:t=e.sent,j(xl,Il,{results:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),dt({title:"".concat(e.t0.name," Error fetching Discovery API services."),message:e.t0.message,level:lt.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Rl=(d(fl={},S,(yl=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="undefined"==typeof window,n='"fcl.discovery" is only available in the browser.',t&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(n,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;"),Sl();case 2:case"end":return e.stop()}var t,n}),e)}))),function(e){return yl.apply(this,arguments)})),d(fl,Il,(function(e,t,n){e.merge(n),e.broadcast(El,v({},e.all()))})),d(fl,R,(function(e,t){e.subscribe(t.from),e.send(t.from,El,v({},e.all()))})),d(fl,A,(function(e,t){return e.unsubscribe(t.from)})),d(fl,kl,(gl=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.reply(v({},t.all())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return gl.apply(this,arguments)})),fl),Al=function(){return U(Rl,xl)},Tl={authn:{subscribe:function(e){return G(xl,Al,e)},snapshot:function(){return D(xl,Al)},update:function(){return Sl()}}},Cl=function(e){return"function"==typeof e},_l="CURRENT_USER",Ol="CURRENT_USER/UPDATED",Pl="SNAPSHOT",Ll="DEL_CURRENT_USER",Nl='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',jl=function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(Nl),e.next=3,t.get(_l);case 3:if(null==(r=e.sent)||n.f_vsn===r.f_vsn){e.next=7;break}return t.removeItem(_l),e.abrupt("return",n);case 7:return e.abrupt("return",r||n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bl=(d(ml={},S,function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"==typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),t.merge(JSON.parse(Nl)),e.next=4,ct.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(n=e.sent).can){e.next=10;break}return e.next=8,jl(n);case 8:Ul(r=e.sent)&&t.merge(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(ml,R,(function(e,t){e.subscribe(t.from),e.send(t.from,Ol,v({},e.all()))})),d(ml,A,(function(e,t){e.unsubscribe(t.from)})),d(ml,Pl,function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.reply(v({},t.all()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(ml,"SET_CURRENT_USER",(wl=s(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(r),e.next=3,ct.first(["fcl.storage","fcl.storage.default"]);case 3:(o=e.sent).can&&o.put(_l,t.all()),t.broadcast(Ol,v({},t.all()));case 6:case"end":return e.stop()}}),e)}))),function(e,t,n){return wl.apply(this,arguments)})),d(ml,Ll,(bl=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(JSON.parse(Nl)),e.next=3,ct.first(["fcl.storage","fcl.storage.default"]);case 3:(r=e.sent).can&&r.put(_l,t.all()),t.broadcast(Ol,v({},t.all()));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return bl.apply(this,arguments)})),ml),Fl=function(){return U(Bl,_l)};function Ul(e){return null==e.expiresAt||0===e.expiresAt||e.expiresAt>Date.now()}function Gl(){return Dl.apply(this,arguments)}function Dl(){return(Dl=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.get("fcl.accountProof.resolver");case 2:if(null!=(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:if(Cl(t)){e.next=8;break}return dt({title:"Account Proof Data Resolver must be a function",message:"Check fcl.accountProof.resolver configuration.\n                Expected: fcl.accountProof.resolver: async () => { ... }\n                Received: fcl.accountProof.resolver: ".concat(u(t),"\n                "),level:lt.warn}),e.abrupt("return");case 8:return e.next=10,t();case 10:if(null!=(n=e.sent)){e.next=13;break}return e.abrupt("return");case 13:return ht("string"==typeof n.appIdentifier,"appIdentifier must be a string"),ht(/^[0-9a-f]+$/i.test(n.nonce),"Nonce must be a hex string"),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ml=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discoveryAuthnInclude,e.t0=n,e.next=4,ll();case 4:return e.t1=e.sent,e.t2=nl.getStrategies(),e.t3={discoveryAuthnInclude:e.t0,clientServices:e.t1,supportedStrategies:e.t2},e.abrupt("return",{client:e.t3});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function zl(){return Yl.apply(this,arguments)}function Yl(){return Yl=s(i().mark((function e(){var t,n,r,o,a,u,c,s,f,l,p,d=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(r=d.length>0&&void 0!==d[0]?d[0]:{}).service,a=r.redir,u=void 0!==a&&a,!o||null!=o&&null!==(t=o.provider)&&void 0!==t&&t.is_installed||null==o||null===(n=o.provider)||void 0===n||!n.requires_install){e.next=4;break}return window.location.href=null==o||null===(c=o.provider)||void 0===c?void 0:c.install_link,e.abrupt("return");case 4:return Fl(),s={redir:u},e.next=9,pl(o);case 9:return f=e.sent,e.prev=10,e.next=13,Gl();case 13:l=e.sent,e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(10),dt({title:"".concat(e.t0.name," On Authentication: Could not resolve account proof data."),message:e.t0.message,level:lt.error}),e.abrupt("return",reject(e.t0));case 20:return e.prev=20,console.log("was here 4"),e.t1=al,e.t2=f,e.t3=l,e.next=27,Ml(f);case 27:return e.t4=e.sent,e.t5=s,e.t6={service:e.t2,msg:e.t3,config:e.t4,opts:e.t5},e.next=32,(0,e.t1)(e.t6);case 32:return p=e.sent,e.abrupt("return",p);case 36:e.prev=36,e.t7=e.catch(20),dt({title:"".concat(e.t7," On Authentication"),message:e.t7,level:lt.error});case 39:case"end":return e.stop()}}),e,null,[[10,16],[20,36]])}))),Yl.apply(this,arguments)}function ql(e){return Kl.apply(this,arguments)}function Kl(){return Kl=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pl(t);case 2:return n=e.sent,e.prev=3,e.t0=al,e.t1=n,e.t2=undefined,e.next=9,Ml(n);case 9:return e.t3=e.sent,e.t4=opts,e.t5={service:e.t1,msg:e.t2,config:e.t3,opts:e.t4},e.next=14,(0,e.t0)(e.t5);case 14:return r=e.sent,e.abrupt("return",r);case 18:e.prev=18,e.t6=e.catch(3),console.log(e.t6);case 21:case"end":return e.stop()}}),e,null,[[3,18]])}))),Kl.apply(this,arguments)}function Hl(){Fl(),j(_l,Ll)}var Wl=function(e){return{f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]}};function Vl(e){var t=Wl(e),n=[];null!=t.proposer&&n.push(["PROPOSER",t.proposer]);var r,o=k(t.payer||[]);try{for(o.s();!(r=o.n()).done;){var u=r.value;n.push(["PAYER",u])}}catch(e){o.e(e)}finally{o.f()}var i,c=k(t.authorization||[]);try{for(c.s();!(i=c.n()).done;){var s=i.value;n.push(["AUTHORIZER",s])}}catch(e){c.e(e)}finally{c.f()}var f=n.map((function(e){var t=a(e,2),n=t[0],r=t[1];return{tempId:[r.identity.address,r.identity.keyId].join("|"),addr:r.identity.address,keyId:r.identity.keyId,signingFunction:function(e){return il({service:r,msg:e})},role:{proposer:"PROPOSER"===n,payer:"PAYER"===n,authorizer:"AUTHORIZER"===n}}}));return f}function Jl(e){return Xl.apply(this,arguments)}function Xl(){return Xl=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(),e.abrupt("return",v(v({},t),{},{tempId:"CURRENT_USER",resolve:function(e,t){return s(i().mark((function n(){var r,o,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zl({redir:!0});case 2:if(r=n.sent,o=pf(r.services,"authz"),!(a=pf(r.services,"pre-authz"))){n.next=11;break}return n.t0=Vl,n.next=9,il({service:a,msg:t});case 9:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 11:if(!o){n.next=14;break}return Ws()&&"WC/RPC"===o.method&&(u=window.open("","_blank")),n.abrupt("return",v(v({},e),{},{tempId:"CURRENT_USER",resolve:null,addr:Yt(o.identity.address),keyId:o.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(e){return s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sl,t.next=3,il({service:o,msg:e,opts:{includeOlderJsonRpcCall:!0,windowRef:u}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()}}));case 14:throw new Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return n.stop()}}),n)})))()}}));case 2:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function $l(e){Fl();var t="@EXIT",n=U(function(){var n=s(i().mark((function n(r){var o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.send(_l,R);case 1:return n.next=4,r.receive();case 4:if((o=n.sent).tag!==t){n.next=8;break}return r.send(_l,A),n.abrupt("return");case 8:e(o.data),n.next=1;break;case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){return j(n,t)}}function Zl(){return Fl(),j(_l,Pl,null,{expectReply:!0,timeout:0})}function Ql(){return ep.apply(this,arguments)}function ep(){return(ep=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl();case 2:return t=e.sent,n=t.addr,e.abrupt("return",Ai(qt(n),Ps));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tp=function(e){return ht(/^[0-9a-f]+$/i.test(e),"Message must be a hex string"),{message:e}};function np(e){return rp.apply(this,arguments)}function rp(){return rp=s(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(),e.next=3,zl({redir:!0});case 3:return n=e.sent,ht(r=pf(n.services,"user-signature"),"Current user must have authorized a signing service."),e.prev=6,e.next=9,il({service:r,msg:tp(t)});case 9:if(o=e.sent,!Array.isArray(o)){e.next=14;break}return e.abrupt("return",o.map((function(e){return sl(e)})));case 14:return e.abrupt("return",[sl(o)]);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])}))),rp.apply(this,arguments)}var op=function(){return{authenticate:zl,unauthenticate:Hl,authorization:Jl,signUserMessage:np,subscribe:$l,snapshot:Zl,resolveArgument:Ql,getStrategyData:ql}};function ap(){return ap=s(i().mark((function e(){var t,n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.prev=1,e.next=4,ef(t);case 4:return e.next=6,Xs(t);case 6:return t=e.sent,e.next=9,ct().get("fcl.authz",op().authorization);case 9:return r=e.sent,n=ct().overload(t.dependencies||{},s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di([Bi(t.cadence),Ri(Us(t.args||[])),t.limit&&cc(t.limit)&&Si(t.limit),Ti(t.proposer||t.authz||r),_i(t.payer||t.authz||r),xi(t.authorizations||[t.authz||r])]).then(hi));case 1:case"end":return e.stop()}}),e)})))),e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),ap.apply(this,arguments)}op.authenticate=zl,op.unauthenticate=Hl,op.authorization=Jl,op.signUserMessage=np,op.subscribe=$l,op.snapshot=Zl,op.resolveArgument=Ql,op.getStrategyData=ql;var up=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(n){var r=n.data;"object"===u(r)&&null!=u(r)&&r.type===e&&t(function(e){var t;return e.deprecated&&console.warn("DEPRECATION NOTICE",e.deprecated.message),null==e||null===(t=e.body)||void 0===t||delete t.interaction,e}(r))};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}},ip=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.location!==window.parent.location)window.parent.postMessage(v(v({},t),{},{type:e}),"*");else{if(!window.opener)throw new Error("Unable to communicate with parent FCL instance");window.opener.postMessage(v(v({},t),{},{type:e}),"*")}};var cp=function(e,t){return It.Buffer.from(e.padEnd(2*t,"0"),"hex")},sp=function(e){return function(e,t){return It.Buffer.from(e.padStart(2*t,"0"),"hex")}(e,8)},fp=function(e){return It.Buffer.from(e,"hex")},lp=function(e){var t=e.address,n=e.nonce,r=e.appIdentifier,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ht(t,"Encode Message For Provable Authn Error: address must be defined"),ht(n,"Encode Message For Provable Authn Error: nonce must be defined"),ht(r,"Encode Message For Provable Authn Error: appIdentifier must be defined"),ht(n.length>=64,"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes");var a=cp(It.Buffer.from("FCL-ACCOUNT-PROOF-V0.0").toString("hex"),32);return o?It.Buffer.concat([a,jt([r,sp(Yt(t)),fp(n)])]).toString("hex"):jt([r,sp(Yt(t)),fp(n)]).toString("hex")};var pp=Object.freeze({__proto__:null,sendMsgToFCL:ip,ready:function(e){up("FCL:VIEW:READY:RESPONSE",e),ip("FCL:VIEW:READY")},close:function(){ip("FCL:VIEW:CLOSE")},approve:function(e){ip("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"APPROVED",reason:null,data:e})},decline:function(e){ip("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"DECLINED",reason:e,data:null})},redirect:function(e){ip("FCL:VIEW:RESPONSE",{f_type:"PollingResponse",f_vsn:"1.0.0",status:"REDIRECT",reason:null,data:e})},onMessageFromFCL:up,encodeMessageFromSignable:function(e,t){var n,r,o=(n=e.voucher,(r=new Set(n.authorizers)).add(n.proposalKey.address),r.delete(n.payer),Array.from(r).map(qt)),a=function(e){var t=new Set([e.payer]);return Array.from(t).map(qt)}(e.voucher),u=o.includes(qt(t)),i=a.includes(qt(t));if(!u&&!i)throw new gi(t);var c={cadence:e.voucher.cadence,refBlock:e.voucher.refBlock,computeLimit:e.voucher.computeLimit,arguments:e.voucher.arguments,proposalKey:v(v({},e.voucher.proposalKey),{},{address:Yt(e.voucher.proposalKey.address)}),payer:Yt(e.voucher.payer),authorizers:e.voucher.authorizers.map(Yt),payloadSigs:e.voucher.payloadSigs.map((function(e){return v(v({},e),{},{address:Yt(e.address)})}))};return u?su(c):fu(c)},CompositeSignature:function(e,t,n){this.f_type=sf.f_type,this.f_vsn=sf.f_vsn,this.addr=qt(e),this.keyId=Number(t),this.signature=n},encodeAccountProof:lp,injectExtService:function(e){"authn"===e.type&&null!=e.endpoint?(Array.isArray(window.fcl_extensions)||(window.fcl_extensions=[]),window.fcl_extensions.push(e)):console.warn("Authn service is required")}}),dp="ACCOUNT_PROOF",hp="USER_SIGNATURE",vp=function(e){if(e.appIdentifier){var t=e.appIdentifier,n=e.address,r=e.nonce,o=e.signatures;return ht(uc(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),ht(uc(n)&&16===Yt(n).length,"verifyAccountProof({ address }) -- address must be a valid address"),ht(/^[0-9a-f]+$/i.test(r),"nonce must be a hex string"),ht(Array.isArray(o)&&o.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),ht(o.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0}var a=e.message,u=e.address,i=e.compSigs;return ht(/^[0-9a-f]+$/i.test(a),"Signed message must be a hex string"),ht(uc(u)&&16===Yt(u).length,"verifyUserSignatures({ address }) -- address must be a valid address"),ht(Array.isArray(i)&&i.every((function(e,t,n){return"CompositeSignature"===e.f_type})),"Must include an Array of CompositeSignatures to verify"),ht(i.map((function(e){return e.addr})).every((function(e,t,n){return e===n[0]})),"User signatures to be verified must be from a single account address"),!0},gp=function(){var e=s(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="ACCOUNT_PROOF"===t?"verifyAccountProofSignatures":"verifyUserSignatures",e.next=3,Vi();case 3:return o=e.sent,ht(n.fclCryptoContract||"testnet"===o||"mainnet"===o,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),a=n.fclCryptoContract?n.fclCryptoContract:"testnet"===o?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284",e.abrupt("return","\n      import FCLCrypto from ".concat(a,"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(r,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function yp(){return yp=s(i().mark((function e(t,n){var r,o,a,u,c,s,f,l,p,d,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.address,o=n.nonce,a=n.signatures,u=h.length>2&&void 0!==h[2]?h[2]:{},vp({appIdentifier:t,address:r,nonce:o,signatures:a}),c=lp({address:r,nonce:o,appIdentifier:t},!1),s=[],f=[],l=k(a);try{for(l.s();!(p=l.n()).done;)d=p.value,s.push(d.signature),f.push(d.keyId.toString())}catch(e){l.e(e)}finally{l.f()}return e.t0=of,e.next=11,gp(dp,u);case 11:return e.t1=e.sent,e.t2=function(e,t){return[e(qt(r),t.Address),e(c,t.String),e(f,t.Array(t.Int)),e(s,t.Array(t.String))]},e.t3={cadence:e.t1,args:e.t2},e.abrupt("return",(0,e.t0)(e.t3));case 15:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function mp(e,t){return bp.apply(this,arguments)}function bp(){return bp=s(i().mark((function e(t,n){var r,o,a,u,c,s,f,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},o=qt(n[0].addr),vp({message:t,address:o,compSigs:n}),a=[],u=[],c=k(n);try{for(c.s();!(s=c.n()).done;)f=s.value,a.push(f.signature),u.push(f.keyId.toString())}catch(e){c.e(e)}finally{c.f()}return e.t0=of,e.next=10,gp(hp,r);case 10:return e.t1=e.sent,e.t2=function(e,n){return[e(o,n.Address),e(t,n.String),e(u,n.Array(n.Int)),e(a,n.Array(n.String))]},e.t3={cadence:e.t1,args:e.t2},e.abrupt("return",(0,e.t0)(e.t3));case 14:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}var wp,xp,kp=Object.freeze({__proto__:null,verifyAccountProof:function(e,t){return yp.apply(this,arguments)},verifyUserSignatures:mp}),Ep=dt.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(e,t){return mp(e,t)}}),Ip=function(){var e=s(i().mark((function e(){var t,n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,ct.first(["sdk.resolve"],n.resolve||si);case 4:if(r=e.sent,!Array.isArray(t)){e.next=9;break}return e.next=8,ka(_o(),t);case 8:t=e.sent;case 9:return e.t0=JSON,e.t1=Ku,e.next=13,r(t);case 13:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0.stringify.call(e.t0,e.t3,null,2));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sp="POLL",Rp=function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di([Ei(t)]).then(hi));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ap=function(e){return e.status>=4},Tp=function(e){return e.status>=3},Cp=function(e){return e.status>=2},_p=(d(wp={},S,function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.sendSelf(Sp);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(wp,R,(function(e,t){e.subscribe(t.from),e.send(t.from,T,e.all())})),d(wp,A,(function(e,t){e.unsubscribe(t.from)})),d(wp,C,function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.reply(t.all());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(wp,Sp,function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rp(t.self());case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",t.fatalError(e.t0));case 9:Ap(n)||setTimeout((function(){return t.sendSelf(Sp)}),2500),r=t.all(),o=n,JSON.stringify(r)!==JSON.stringify(o)&&t.broadcast(T,n),t.merge(n);case 12:case"end":return e.stop()}var r,o}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),wp),Op=function(e){if("object"===u(e)&&(e=e.transactionId),null==e)throw new Error("transactionId required");return e},Pp=function(e){return U(_p,Op(e))};function Lp(e){function t(t){return G(Op(e),Pp,t)}function n(e){return function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).suppress||!1;return new Promise((function(r,o){var a=t((function(t,u){!u&&!t.statusCode||n?e(t)&&(r(t),a()):(o(u||t.errorMessage),a())}))}))}}return{snapshot:function(){return D(e,Pp)},subscribe:t,onceFinalized:n(Cp),onceExecuted:n(Tp),onceSealed:n(Ap)}}Lp.isUnknown=function(e){return e.status>=0},Lp.isPending=function(e){return e.status>=1},Lp.isFinalized=Cp,Lp.isExecuted=Tp,Lp.isSealed=Ap,Lp.isExpired=function(e){return 5===e.status};var Np="TICK",jp="hwm",Bp=function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=setTimeout,e.t1=function(){return t.sendSelf(Np)},e.next=4,ct().get("fcl.eventPollRate",1e4);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fp=(d(xp={},Np,function(){var e=s(i().mark((function e(t){var n,r,o,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=2;break}return e.abrupt("return");case 2:if(null!=(n=t.get(jp))){e.next=18;break}return e.t0=t,e.t1=jp,e.next=8,wi();case 8:return e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2),e.t3=t,e.t4=Np,e.next=14,Bp(t);case 14:e.t5=e.sent,e.t3.put.call(e.t3,e.t4,e.t5),e.next=34;break;case 18:return e.next=20,wi();case 20:if(r=e.sent,t.put(jp,r),!(n.height<r.height)){e.next=28;break}return e.next=25,di([ki(t.self(),n.height+1,r.height)]).then(hi);case 25:o=e.sent,a=k(o);try{for(a.s();!(u=a.n()).done;)c=u.value,t.broadcast("UPDATED",c.data)}catch(e){a.e(e)}finally{a.f()}case 28:return e.t6=t,e.t7=Np,e.next=32,Bp(t);case 32:e.t8=e.sent,e.t6.put.call(e.t6,e.t7,e.t8);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(xp,R,function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=7;break}return e.t0=t,e.t1=Np,e.next=5,Bp(t);case 5:e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2);case 7:t.subscribe(n.from);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(xp,A,(function(e,t){e.unsubscribe(t.from),e.hasSubs()||(clearTimeout(e.get(Np)),e.delete(Np),e.delete(jp))})),xp),Up=function(e){return U(Fp,e)};function Gp(e){return Dp.apply(this,arguments)}function Dp(){return(Dp=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new er.SHA3(256)).update(It.Buffer.from(t,"utf8")),e.abrupt("return",n.digest("hex"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e){return zp.apply(this,arguments)}function zp(){return zp=s(i().mark((function e(t){var n,r,o,a,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pi(null!=(n=t.template),"generateTemplateId({ template }) -- template must be defined"),pi("object"===u(n),"generateTemplateId({ template }) -- template must be an object"),pi("InteractionTemplate"==typeof n.f_type,"generateTemplateId({ template }) -- template object must be an InteractionTemplate"),n=qs(n),e.t0=n.f_version,e.next="1.0.0"===e.t0?8:40;break;case 8:return r=n.data,e.next=11,Promise.all(Object.keys(r.messages).map(function(){var e=s(i().mark((function e(t){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(t);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null===(n=r.messages)||void 0===n||null===(o=n[t])||void 0===o?void 0:o.i18n).map(function(){var e=s(i().mark((function e(n){var o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(n);case 2:return e.t0=e.sent,e.next=5,Gp(null===(o=r.messages)||void 0===o||null===(a=o[t])||void 0===a||null===(u=a.i18n)||void 0===u?void 0:u[n]);case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return o=e.sent,e.next=14,Promise.all(Object.keys(null==r?void 0:r.dependencies).map(function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(t);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null==r||null===(n=r.dependencies)||void 0===n?void 0:n[t]).map(function(){var e=s(i().mark((function e(n){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(n);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null==r||null===(o=r.dependencies)||void 0===o||null===(a=o[t])||void 0===a?void 0:a[n]).map(function(){var e=s(i().mark((function e(o){var a,u,c,s,f,l,p,d,h,v,g,y,m,b,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(o);case 2:return e.t0=e.sent,e.next=5,Gp(null==r||null===(a=r.dependencies)||void 0===a||null===(u=a[t])||void 0===u||null===(c=u[n])||void 0===c?void 0:c[o].address);case 5:return e.t1=e.sent,e.next=8,Gp(null==r||null===(s=r.dependencies)||void 0===s||null===(f=s[t])||void 0===f||null===(l=f[n])||void 0===l?void 0:l[o].contract);case 8:return e.t2=e.sent,e.next=11,Gp(null==r||null===(p=r.dependencies)||void 0===p||null===(d=p[t])||void 0===d||null===(h=d[n])||void 0===h?void 0:h[o].fq_address);case 11:return e.t3=e.sent,e.next=14,Gp(null==r||null===(v=r.dependencies)||void 0===v||null===(g=v[t])||void 0===g||null===(y=g[n])||void 0===y?void 0:y[o].pin);case 14:return e.t4=e.sent,e.next=17,Gp(String(null==r||null===(m=r.dependencies)||void 0===m||null===(b=m[t])||void 0===b||null===(w=b[n])||void 0===w?void 0:w[o].pin_block_height));case 17:return e.t5=e.sent,e.t6=[e.t1,e.t2,e.t3,e.t4,e.t5],e.abrupt("return",[e.t0,e.t6]);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return a=e.sent,e.next=17,Promise.all(Object.keys(null==r?void 0:r.arguments).map(function(){var e=s(i().mark((function e(t){var n,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(t);case 2:return e.t0=e.sent,e.next=5,Gp(String(null==r||null===(n=r.arguments)||void 0===n?void 0:n[t].index));case 5:return e.t1=e.sent,e.next=8,Gp(null==r||null===(o=r.arguments)||void 0===o?void 0:o[t].type);case 8:return e.t2=e.sent,e.next=11,Gp((null==r||null===(a=r.arguments)||void 0===a?void 0:a[t].balance)||"");case 11:return e.t3=e.sent,e.next=14,Promise.all(Object.keys(null==r||null===(u=r.arguments)||void 0===u?void 0:u[t].messages).map(function(){var e=s(i().mark((function e(n){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(n);case 2:return e.t0=e.sent,e.next=5,Promise.all(Object.keys(null==r||null===(o=r.arguments)||void 0===o||null===(a=o[t].messages)||void 0===a?void 0:a[n].i18n).map(function(){var e=s(i().mark((function e(o){var a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(o);case 2:return e.t0=e.sent,e.next=5,Gp(null==r||null===(a=r.arguments)||void 0===a||null===(u=a[t].messages)||void 0===u||null===(c=u[n].i18n)||void 0===c?void 0:c[o]);case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.abrupt("return",[e.t0,e.t5]);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:return c=e.sent,e.t1=jt,e.next=21,Gp("InteractionTemplate");case 21:return e.t2=e.sent,e.next=24,Gp("1.0.0");case 24:return e.t3=e.sent,e.next=27,Gp(null==r?void 0:r.type);case 27:return e.t4=e.sent,e.next=30,Gp(null==r?void 0:r.interface);case 30:return e.t5=e.sent,e.t6=o,e.next=34,Gp(null==r?void 0:r.cadence);case 34:return e.t7=e.sent,e.t8=a,e.t9=c,e.t10=[e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8,e.t9],f=(0,e.t1)(e.t10).toString("hex"),e.abrupt("return",Gp(f));case 40:throw new Error("generateTemplateId Error: Unsupported template version");case 41:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}function Yp(){return Yp=s(i().mark((function e(t){var n,r,o,a,u,c,s,f,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.template,r=t.auditors,o=l.length>1&&void 0!==l[1]?l[1]:{},pi(null!=n,"getInteractionTemplateAudits({ template }) -- template must be defined"),pi("InteractionTemplate"===(n=qs(n)).f_type,"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate"),e.next=7,Mp({template:n});case 7:if((a=e.sent)===n.id){e.next=11;break}throw dt({title:"getInteractionTemplateAudits Debug Error",message:"Could not recompute and match template ID\n                computed: ".concat(a,"\n                template: ").concat(n.id,"\n            "),level:lt.debug}),new Error("getInteractionTemplateAudits Error: Could not recompute and match template ID");case 11:e.t0=n.f_version,e.next="1.0.0"===e.t0?14:33;break;case 14:if(e.t1=r,e.t1){e.next=19;break}return e.next=18,ct().get("flow.auditors");case 18:e.t1=e.sent;case 19:if(pi(u=e.t1,"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set"),pi(Array.isArray(u),"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array"),c=o.flowInteractionAuditContract){e.next=29;break}return e.next=26,Vi();case 26:pi("mainnet"===(s=e.sent)||"testnet"===s,"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'"),c="mainnet"===s?"0xfd100e39d50a13e6":"0xf78bfc12d0a786dc";case 29:return e.next=31,of({cadence:"\n        import FlowInteractionTemplateAudit from ".concat(c,"\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        "),args:function(e,t){return[e(a,t.String),e(u,t.Array(t.Address))]}});case 31:return f=e.sent,e.abrupt("return",f);case 33:throw new Error("getInteractionTemplateAudits Error: Unsupported template version");case 34:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function qp(e){return{contractName:e.contractName,address:e.address,contract:""}}function Kp(e){var t,n=[],r=k(e.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(r.s();!(t=r.n()).done;){var o,a=t.value,u=/import ((\w+|, |)*) from (0x\w+)/g.exec(a),i=k(u[1].match(/((?:\w+)+),?/g)||[]);try{for(i.s();!(o=i.n()).done;){var c=o.value;n.push(qp({address:u[3],contractName:c.replace(/,/g,"")}))}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}return n}function Hp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=s(i().mark((function e(t){var n,r,o,a,u,c,s,f,l,p,d,h,v,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.address,r=t.contractName,o=t.blockHeight,a=g.length>1&&void 0!==g[1]?g[1]:{},pi(null!=n,"generateDependencyPin({ address }) -- address must be defined"),pi(null!=r,"generateDependencyPin({ contractName }) -- contractName must be defined"),pi(null!=o,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),pi("string"==typeof n,"generateDependencyPin({ address }) -- address must be a string"),pi("string"==typeof r,"generateDependencyPin({ contractName }) -- contractName must be a string"),pi("number"==typeof o,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),u=[qp({contractName:r,address:n})],c=0,s=u;case 10:if(!(c<s.length)){e.next=33;break}return l=s[c],e.t0=di,e.t1=Oa,e.next=16,ct().get(l.address,l.address);case 16:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=mi(o),e.t5=[e.t3,e.t4],e.t6=a,e.next=23,(0,e.t0)(e.t5,e.t6).then(hi);case 23:if(p=e.sent,l.contract=null===(f=p.contracts)||void 0===f?void 0:f[l.contractName],l.contract){e.next=28;break}throw console.error("Did not find expected contract",l,p),new Error("Did not find expected contract");case 28:d=Kp(l.contract),u.push.apply(u,M(d));case 30:c++,e.next=10;break;case 33:return h=u.map((function(e){return Gp(e.contract)})),v=h.join(""),e.abrupt("return",Gp(v));case 36:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Vp(){return Vp=s(i().mark((function e(t){var n,r,o,a,u,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,r=t.contractName,o=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,wi({sealed:!0},o);case 4:return a=e.sent,u=null==a?void 0:a.height,e.abrupt("return",Hp({address:n,contractName:r,blockHeight:u},o));case 7:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Jp(e){if(null==e)return null;if("1.0.0"===e.f_version)return e;throw new Error("normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface")}function Xp(){return Xp=s(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pi(null!=(n=t.templateInterface),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined"),pi("object"===u(n),"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object"),pi("InteractionTemplateInterface"==typeof n.f_type,"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate"),n=Jp(n),e.t0=n.f_version,e.next="1.0.0"===e.t0?8:25;break;case 8:return r=n.data,e.t1=jt,e.next=12,Gp("InteractionTemplateInterface");case 12:return e.t2=e.sent,e.next=15,Gp("1.0.0");case 15:return e.t3=e.sent,e.next=18,Gp(r.flip);case 18:return e.t4=e.sent,e.next=21,Promise.all(Object.keys(r.arguments).map(function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(t);case 2:return e.t0=e.sent,e.next=5,Gp(String(r.arguments[t].index));case 5:return e.t1=e.sent,e.next=8,Gp(r.arguments[t].type);case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 21:return e.t5=e.sent,e.t6=[e.t2,e.t3,e.t4,e.t5],o=(0,e.t1)(e.t6).toString("hex"),e.abrupt("return",Gp(o));case 25:throw new Error("generateTemplateInterfaceId Error: Unsupported templateInterface version");case 26:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function $p(e){return Zp.apply(this,arguments)}function Zp(){return Zp=s(i().mark((function e(t){var n,r,o,a,c,s,f,l,p,d,h,v,g,y,m,b,w=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.template,r=t.blockHeight,o=t.network,a=w.length>1&&void 0!==w[1]?w[1]:{},pi(null!=n,"generateDependencyPin({ template }) -- template must be defined"),pi("object"===u(n),"generateDependencyPin({ template }) -- template must be an object"),pi("InteractionTemplate"===n.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),n=qs(n),pi(null!=o,"generateDependencyPin({ network }) network must be defined"),pi(null!=r,"generateDependencyPin({ blockHeight }) blockHeight must be defined"),pi("number"==typeof r,"generateDependencyPin({ blockHeight }) blockHeight must be a number"),e.t0=n.f_version,e.next="1.0.0"===e.t0?12:38;break;case 12:c=Object.keys(n.data.dependencies),s=0,f=c;case 14:if(!(s<f.length)){e.next=37;break}l=f[s],p=n.data.dependencies[l],d=Object.keys(p),h=0,v=d;case 19:if(!(h<v.length)){e.next=34;break}if(g=v[h],y=n.data.dependencies[l][g],void 0!==(m=y[o])){e.next=25;break}return e.abrupt("continue",31);case 25:return e.next=27,Hp({address:m.address,contractName:m.contract,blockHeight:r},a);case 27:if((b=e.sent)===m.pin){e.next=31;break}return dt({title:"verifyDependencyPinsSame Debug Error",message:"Could not recompute and match dependency pin.\n                                address: ".concat(m.address," | contract: ").concat(m.contract,"\n                                computed: ").concat(b,"\n                                template: ").concat(m.pin,"\n                            "),level:lt.debug}),e.abrupt("return",!1);case 31:h++,e.next=19;break;case 34:s++,e.next=14;break;case 37:return e.abrupt("return",!0);case 38:throw new Error("verifyDependencyPinsSame Error: Unsupported template version");case 39:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function Qp(){return Qp=s(i().mark((function e(t){var n,r,o,a,u,c=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.template,r=t.network,o=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,wi({sealed:!0});case 4:return a=e.sent,u=null==a?void 0:a.height,e.abrupt("return",$p({template:n,network:r,blockHeight:u},o));case 7:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}var ed=Object.freeze({__proto__:null,getInteractionTemplateAudits:function(e){return Yp.apply(this,arguments)},generateDependencyPin:Hp,generateDependencyPinAtLatestSealedBlock:function(e){return Vp.apply(this,arguments)},generateTemplateId:Mp,generateTemplateInterfaceId:function(e){return Xp.apply(this,arguments)},verifyDependencyPinsSame:$p,verifyDependencyPinsSameAtLatestSealedBlock:function(e){return Qp.apply(this,arguments)},deriveCadenceByNetwork:Ks,getTemplateMessage:function(e){var t,n,r,o=e.localization,a=void 0===o?"en-US":o,i=e.messageKey,c=e.template;pi(i,"getTemplateMessage({ messageKey }) -- messageKey must be defined"),pi("string"==typeof i,"getTemplateMessage({ messageKey }) -- messageKey must be a string"),pi(a,"getTemplateMessage({ localization }) -- localization must be defined"),pi("string"==typeof a,"getTemplateMessage({ localization }) -- localization must be a string"),pi(null!=c,"getTemplateMessage({ template }) -- template must be defined"),pi("object"===u(c),"getTemplateMessage({ template }) -- template must be an object"),pi("InteractionTemplate"==typeof c.f_type,"getTemplateMessage({ template }) -- template object must be an InteractionTemplate");var s=null==c||null===(t=c.data)||void 0===t?void 0:t.messages;return null==s||null===(n=s[i])||void 0===n||null===(r=n.i18n)||void 0===r?void 0:r[a]},getTemplateArgumentMessage:function(e){var t,n,r,o,a,i=e.localization,c=void 0===i?"en-US":i,s=e.argumentLabel,f=e.messageKey,l=e.template;pi(f,"getTemplateArgumentMessage({ messageKey }) -- messageKey must be defined"),pi("string"==typeof f,"getTemplateArgumentMessage({ messageKey }) -- messageKey must be a string"),pi(s,"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be defined"),pi("string"==typeof f,"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be a string"),pi(c,"getTemplateArgumentMessage({ localization }) -- localization must be defined"),pi("string"==typeof c,"getTemplateArgumentMessage({ localization }) -- localization must be a string"),pi(null!=l,"getTemplateArgumentMessage({ template }) -- template must be defined"),pi("object"===u(l),"getTemplateArgumentMessage({ template }) -- template must be an object"),pi("InteractionTemplate"==typeof l.f_type,"getTemplateArgumentMessage({ template }) -- template object must be an InteractionTemplate");var p=null==l||null===(t=l.data)||void 0===t?void 0:t.arguments;return null==p||null===(n=p[s])||void 0===n||null===(r=n.messages)||void 0===r||null===(o=r[f])||void 0===o||null===(a=o.i18n)||void 0===a?void 0:a[c]}}),td=op().authorization,nd=Fs;e.AppUtils=kp,e.InteractionTemplateUtils=ed,e.TestUtils=Yi,e.VERSION=nc,e.WalletUtils=pp,e.account=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.height,r=t.id,o=arguments.length>2?arguments[2]:void 0;return ht(!(r&&n),'Method: account -- Cannot pass "id" and "height" simultaneously'),r?di([Oa(e),bi(r)],o).then(Wa):n?di([Oa(e),mi(n)],o).then(Wa):di([Oa(e)],o).then(Wa)},e.arg=Ai,e.args=Ri,e.atBlockHeight=mi,e.atBlockId=bi,e.authenticate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return op().authenticate(e)},e.authorization=function(e,t,n,r){return{addr:e,signingFunction:t,keyId:n,sequenceNum:r}},e.authorizations=xi,e.authz=td,e.block=wi,e.build=Ta,e.cadence=ro,e.cdc=ro,e.config=ct,e.createSignableVoucher=Ku,e.currentUser=op,e.decode=hi,e.discovery=Tl,e.display=function(e){return qt(e)},e.events=function(e){return{subscribe:function(t){return G(e,Up,t)}}},e.getAccount=Oa,e.getBlock=_a,e.getBlockHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ka([ta,function(t){return t.block.isSealed=e,Do(t)}])},e.getChainId=Vi,e.getCollection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ka([na,function(t){return t.collection.id=e,t}])},e.getEvents=function(e,t,n){return void 0===t&&void 0===n||dt.deprecate({pkg:"FCL/SDK",subject:"Passing a start and end into getEvents",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder"}),ka([Zo,function(r){return r.events.eventType=e,r.events.start=t,r.events.end=n,Do(r)}])},e.getEventsAtBlockHeightRange=ki,e.getEventsAtBlockIds=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ka([Zo,function(n){return n.events.eventType=e,n.events.blockIds=t,Do(n)}])},e.getNetworkParameters=Ii,e.getStrategyData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return op().getStrategyData(e)},e.getTransaction=function(e){return ka([Xo,function(t){return t.transaction.id=e,Do(t)}])},e.getTransactionStatus=Ei,e.invariant=pi,e.isBad=ma,e.isOk=ya,e.limit=Si,e.logIn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return op().authenticate(e)},e.mutate=function(){return ap.apply(this,arguments)},e.param=function(e){return dt.deprecate({pkg:"FCL/SDK",message:"The param builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:lt.error})},e.params=function(e){return dt.deprecate({pkg:"FCL/SDK",message:"The params builder has been removed from the Flow JS-SDK/FCL.",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params",level:lt.error})},e.payer=_i,e.ping=function(){return Qo},e.pipe=ka,e.pluginRegistry=rl,e.proposer=Ti,e.query=of,e.reauthenticate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return op().unauthenticate(),op().authenticate(e)},e.ref=Pi,e.sansPrefix=Yt,e.script=Li,e.send=di,e.serialize=Ip,e.signUp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return op().authenticate(e)},e.t=nd,e.transaction=Bi,e.tx=Lp,e.unauthenticate=function(){return op().unauthenticate()},e.validator=yi,e.verifyUserSignatures=Ep,e.voucherIntercept=function(e){return Sa("ix.voucher-intercept",e)},e.voucherToTxId=function(e){return function(e){return wu(bu(Su(e)))}(e)},e.why=ba,e.withPrefix=qt,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=fcl.umd.min.js.map
